<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Introduction to Econometrics with R</title>
  <meta name="description" content="SciencesPo UG Econometrics online textbook. Almost no Maths.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Introduction to Econometrics with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://scpoecon.github.io/ScPoEconometrics/" />
  
  <meta property="og:description" content="SciencesPo UG Econometrics online textbook. Almost no Maths." />
  <meta name="github-repo" content="ScPoEcon/ScPoEconometrics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Introduction to Econometrics with R" />
  
  <meta name="twitter:description" content="SciencesPo UG Econometrics online textbook. Almost no Maths." />
  

<meta name="author" content="Florian Oswald, Jean-Marc Robin and Vincent Viers">


<meta name="date" content="2018-11-03">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.gif" type="image/x-icon">
<link rel="prev" href="index.html">
<link rel="next" href="sum.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41584331-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-41584331-4');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ScPo 2nd Year Econometrics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a></li>
<li class="chapter" data-level="1" data-path="R-intro.html"><a href="R-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to <code>R</code></a><ul>
<li class="chapter" data-level="1.1" data-path="R-intro.html"><a href="R-intro.html#getting-started"><i class="fa fa-check"></i><b>1.1</b> Getting Started</a></li>
<li class="chapter" data-level="1.2" data-path="R-intro.html"><a href="R-intro.html#starting-r-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> Starting R and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="R-intro.html"><a href="R-intro.html#basic-calculations"><i class="fa fa-check"></i><b>1.3</b> Basic Calculations</a></li>
<li class="chapter" data-level="1.4" data-path="R-intro.html"><a href="R-intro.html#getting-help"><i class="fa fa-check"></i><b>1.4</b> Getting Help</a></li>
<li class="chapter" data-level="1.5" data-path="R-intro.html"><a href="R-intro.html#installing-packages"><i class="fa fa-check"></i><b>1.5</b> Installing Packages</a></li>
<li class="chapter" data-level="1.6" data-path="R-intro.html"><a href="R-intro.html#code-output"><i class="fa fa-check"></i><b>1.6</b> <code>Code</code> vs Output in this Book</a></li>
<li class="chapter" data-level="1.7" data-path="R-intro.html"><a href="R-intro.html#install-package"><i class="fa fa-check"></i><b>1.7</b> <code>ScPoEconometrics</code> Package</a></li>
<li class="chapter" data-level="1.8" data-path="R-intro.html"><a href="R-intro.html#data-types"><i class="fa fa-check"></i><b>1.8</b> Data Types</a></li>
<li class="chapter" data-level="1.9" data-path="R-intro.html"><a href="R-intro.html#data-structures"><i class="fa fa-check"></i><b>1.9</b> Data Structures</a></li>
<li class="chapter" data-level="1.10" data-path="R-intro.html"><a href="R-intro.html#dataframes"><i class="fa fa-check"></i><b>1.10</b> Data Frames</a></li>
<li class="chapter" data-level="1.11" data-path="R-intro.html"><a href="R-intro.html#programming-basics"><i class="fa fa-check"></i><b>1.11</b> Programming Basics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sum.html"><a href="sum.html"><i class="fa fa-check"></i><b>2</b> Working With Data</a><ul>
<li class="chapter" data-level="2.1" data-path="sum.html"><a href="sum.html#summary-statistics"><i class="fa fa-check"></i><b>2.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="2.2" data-path="sum.html"><a href="sum.html#plotting"><i class="fa fa-check"></i><b>2.2</b> Plotting</a></li>
<li class="chapter" data-level="2.3" data-path="sum.html"><a href="sum.html#summarize-two"><i class="fa fa-check"></i><b>2.3</b> Summarizing Two Variables</a></li>
<li class="chapter" data-level="2.4" data-path="sum.html"><a href="sum.html#the-tidyverse"><i class="fa fa-check"></i><b>2.4</b> The <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="linreg.html"><a href="linreg.html"><i class="fa fa-check"></i><b>3</b> Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="linreg.html"><a href="linreg.html#how-are-x-and-y-related"><i class="fa fa-check"></i><b>3.1</b> How are <code>x</code> and <code>y</code> related?</a></li>
<li class="chapter" data-level="3.2" data-path="linreg.html"><a href="linreg.html#OLS"><i class="fa fa-check"></i><b>3.2</b> Ordinary Least Squares (OLS) Estimator</a></li>
<li class="chapter" data-level="3.3" data-path="linreg.html"><a href="linreg.html#pred-resids"><i class="fa fa-check"></i><b>3.3</b> Predictions and Residuals</a></li>
<li class="chapter" data-level="3.4" data-path="linreg.html"><a href="linreg.html#correlation-covariance-and-linearity"><i class="fa fa-check"></i><b>3.4</b> Correlation, Covariance and Linearity</a></li>
<li class="chapter" data-level="3.5" data-path="linreg.html"><a href="linreg.html#analysing-vary"><i class="fa fa-check"></i><b>3.5</b> Analysing <span class="math inline">\(Var(y)\)</span></a></li>
<li class="chapter" data-level="3.6" data-path="linreg.html"><a href="linreg.html#assessing-the-goodness-of-fit"><i class="fa fa-check"></i><b>3.6</b> Assessing the <em>Goodness of Fit</em></a></li>
<li class="chapter" data-level="3.7" data-path="linreg.html"><a href="linreg.html#lm-example1"><i class="fa fa-check"></i><b>3.7</b> An Example: California Student Test Scores</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multiple-reg.html"><a href="multiple-reg.html"><i class="fa fa-check"></i><b>4</b> Multiple Regression</a><ul>
<li class="chapter" data-level="4.1" data-path="multiple-reg.html"><a href="multiple-reg.html#ceteris"><i class="fa fa-check"></i><b>4.1</b> All Else Equal</a></li>
<li class="chapter" data-level="4.2" data-path="multiple-reg.html"><a href="multiple-reg.html#multicol"><i class="fa fa-check"></i><b>4.2</b> Multicolinearity</a></li>
<li class="chapter" data-level="4.3" data-path="multiple-reg.html"><a href="multiple-reg.html#california-test-scores-2"><i class="fa fa-check"></i><b>4.3</b> California Test Scores 2</a></li>
<li class="chapter" data-level="4.4" data-path="multiple-reg.html"><a href="multiple-reg.html#mreg-interactions"><i class="fa fa-check"></i><b>4.4</b> Interactions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="categorical-vars.html"><a href="categorical-vars.html"><i class="fa fa-check"></i><b>5</b> Categorial Variables</a><ul>
<li class="chapter" data-level="5.1" data-path="categorical-vars.html"><a href="categorical-vars.html#the-binary-regressor-case"><i class="fa fa-check"></i><b>5.1</b> The Binary Regressor Case</a></li>
<li class="chapter" data-level="5.2" data-path="categorical-vars.html"><a href="categorical-vars.html#dummy-and-continuous-variables"><i class="fa fa-check"></i><b>5.2</b> Dummy and Continuous Variables</a></li>
<li class="chapter" data-level="5.3" data-path="categorical-vars.html"><a href="categorical-vars.html#categorical-variables-in-r-factor"><i class="fa fa-check"></i><b>5.3</b> Categorical Variables in <code>R</code>: <code>factor</code></a></li>
<li class="chapter" data-level="5.4" data-path="categorical-vars.html"><a href="categorical-vars.html#saturated-models-main-effects-and-interactions"><i class="fa fa-check"></i><b>5.4</b> Saturated Models: Main Effects and Interactions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="std-errors.html"><a href="std-errors.html"><i class="fa fa-check"></i><b>6</b> Standard Errors</a><ul>
<li class="chapter" data-level="6.1" data-path="std-errors.html"><a href="std-errors.html#what-is-true-what-are-statistical-models"><i class="fa fa-check"></i><b>6.1</b> What is <em>true</em>? What are Statistical Models?</a></li>
<li class="chapter" data-level="6.2" data-path="std-errors.html"><a href="std-errors.html#class-reg"><i class="fa fa-check"></i><b>6.2</b> The Classical Regression Model</a></li>
<li class="chapter" data-level="6.3" data-path="std-errors.html"><a href="std-errors.html#back-to-sampling"><i class="fa fa-check"></i><b>6.3</b> Back to Sampling</a></li>
<li class="chapter" data-level="6.4" data-path="std-errors.html"><a href="std-errors.html#hypothesis-testing"><i class="fa fa-check"></i><b>6.4</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="6.5" data-path="std-errors.html"><a href="std-errors.html#whats-in-my-model-and-what-is-not"><i class="fa fa-check"></i><b>6.5</b> What’s in my model? (And what is not?)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="quantreg.html"><a href="quantreg.html"><i class="fa fa-check"></i><b>7</b> Quantile Regression</a></li>
<li class="chapter" data-level="8" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>8</b> Panel Data</a><ul>
<li class="chapter" data-level="8.1" data-path="panel-data.html"><a href="panel-data.html#fixed-effects"><i class="fa fa-check"></i><b>8.1</b> fixed effects</a></li>
<li class="chapter" data-level="8.2" data-path="panel-data.html"><a href="panel-data.html#did"><i class="fa fa-check"></i><b>8.2</b> DiD</a></li>
<li class="chapter" data-level="8.3" data-path="panel-data.html"><a href="panel-data.html#rdd"><i class="fa fa-check"></i><b>8.3</b> RDD</a></li>
<li class="chapter" data-level="8.4" data-path="panel-data.html"><a href="panel-data.html#example"><i class="fa fa-check"></i><b>8.4</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="IV.html"><a href="IV.html"><i class="fa fa-check"></i><b>9</b> Instrumental Variables</a><ul>
<li class="chapter" data-level="9.1" data-path="IV.html"><a href="IV.html#simultaneity-bias"><i class="fa fa-check"></i><b>9.1</b> Simultaneity Bias</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="logit-probit.html"><a href="logit-probit.html"><i class="fa fa-check"></i><b>10</b> Logit and Probit</a></li>
<li class="chapter" data-level="11" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>11</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="12" data-path="R-advanced.html"><a href="R-advanced.html"><i class="fa fa-check"></i><b>12</b> Advanced <code>R</code></a><ul>
<li class="chapter" data-level="12.1" data-path="R-advanced.html"><a href="R-advanced.html#more-vectorization"><i class="fa fa-check"></i><b>12.1</b> More Vectorization</a></li>
<li class="chapter" data-level="12.2" data-path="R-advanced.html"><a href="R-advanced.html#calculations-with-vectors-and-matrices"><i class="fa fa-check"></i><b>12.2</b> Calculations with Vectors and Matrices</a></li>
<li class="chapter" data-level="12.3" data-path="R-advanced.html"><a href="R-advanced.html#matrices-1"><i class="fa fa-check"></i><b>12.3</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="slides.html"><a href="slides.html"><i class="fa fa-check"></i><b>13</b> Slides</a></li>
<li class="chapter" data-level="14" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>14</b> Notes</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Econometrics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="R-intro" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction to <code>R</code></h1>
<div id="getting-started" class="section level2">
<h2><span class="header-section-number">1.1</span> Getting Started</h2>
<p><code>R</code> is both a programming language and software environment for statistical computing, which is <em>free</em> and <em>open-source</em>. To get started, you will need to install two pieces of software:</p>
<ol style="list-style-type: decimal">
<li><a href="https://www.r-project.org"><code>R</code>, the actual programming language.</a>
<ul>
<li>Chose your operating system, and select the most recent version.</li>
</ul></li>
<li><a href="http://www.rstudio.com/">RStudio, an excellent IDE for working with <code>R</code>.</a>
<ul>
<li>Note, you must have <code>R</code> installed to use RStudio. RStudio is simply an interface used to interact with <code>R</code>.</li>
</ul></li>
</ol>
<p>The popularity of <code>R</code> is on the rise, and everyday it becomes a better tool for statistical analysis. It even generated this book!</p>
<p>The following few chapters will serve as a whirlwind introduction to <code>R</code>. They are by no means meant to be a complete reference for the <code>R</code> language, but simply an introduction to the basics that we will need along the way. Several of the more important topics will be re-stressed as they are actually needed for analyses.</p>
<p>This introductory <code>R</code> chapter may feel like an overwhelming amount of information. You are not expected to pick up everything the first time through. You should try all of the code from this chapter, then return to it a number of times as you return to the concepts when performing analyses. We present the bare basics in this chapter, some more details are in chapter <a href="R-advanced.html#R-advanced">12</a>.</p>
</div>
<div id="starting-r-and-rstudio" class="section level2">
<h2><span class="header-section-number">1.2</span> Starting R and RStudio</h2>
<p>A key difference for you to understand is the one between <code>R</code>, the actual programming language, and <code>RStudio</code>, a popular interface to <code>R</code> which allows you to work efficiently and with greater ease with <code>R</code>.</p>
<p>The best way to appreciate the value of <code>RStudio</code> is to start using <code>R</code> <em>without</em> <code>RStudio</code>. To do this, double-click on the R GUI that you should have downloaded on your computer following the steps above (on windows or Mac), or start R in your terminal (on Linux or Mac) by just typing <code>R</code> in a terminal, see figure <a href="R-intro.html#fig:console">1.1</a>. You’ve just opened the R <strong>console</strong> which allows you to start typing code right after the <code>&gt;</code> sign, called <em>prompt</em>. Try typing <code>2 + 2</code> or <code>print(&quot;Your Name&quot;)</code> and hit the return key. And <em>voilà</em>, your first R commands!</p>
<div class="figure" style="text-align: center"><span id="fig:console"></span>
<img src="images/RLogo.png" alt="R GUI symbol and R in a MacOS Terminal" width="50%" />
<p class="caption">
Figure 1.1: R GUI symbol and R in a MacOS Terminal
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:console"></span>
<img src="images/console.png" alt="R GUI symbol and R in a MacOS Terminal" width="50%" />
<p class="caption">
Figure 1.1: R GUI symbol and R in a MacOS Terminal
</p>
</div>
<p>Typing one command after the other into the console is not very convenient as our analysis becomes more involved. Ideally, we would like to collect all command statements in a file and run them one after the other, automatically. We can do this by writing so-called <strong>script files</strong> or just <strong>scripts</strong>, i.e. simple text files with extension <code>.R</code> or <code>.r</code> which can be <em>inserted</em> (or <em>sourced</em>) into an <code>R</code> session. RStudio makes this process very easy.</p>
<p>Open <code>RStudio</code> by clicking on the <code>RStudio</code> application on your computer, and notice how different the whole environment is from the basic <code>R</code> console – in fact, that <em>very same</em> <code>R</code> console is running in your bottom left panel. The upper-left panel is a space for you to write scripts – that is to say many lines of codes which you can run when you choose to. To run a single line of code, simply highlight it and hit <code>Command</code> + <code>Return</code>.</p>
<div class="note">
<p>
We highly recommend that you use <code>RStudio</code> for everything related to this course (in particular, to launch our apps and tutorials).
</p>
</div>
<p>RStudio has a large number of useful keyboard shortcuts. A list of these can be found using a keyboard shortcut – the keyboard shortcut to rule them all:</p>
<ul>
<li>On Windows: <code>Alt</code> + <code>Shift</code> + <code>K</code></li>
<li>On Mac: <code>Option</code> + <code>Shift</code> + <code>K</code></li>
</ul>
<p>The <code>RStudio</code> team has developed <a href="https://www.rstudio.com/resources/cheatsheets/">a number of “cheatsheets”</a> for working with both <code>R</code> and <code>RStudio</code>. <a href="http://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf">This particular cheatseet for Base <code>R</code></a> will summarize many of the concepts in this document.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a></p>
<div id="first-glossary" class="section level3">
<h3><span class="header-section-number">1.2.1</span> First Glossary</h3>
<ul>
<li><code>R</code>: a statistical programming language</li>
<li><code>RStudio</code>: an integrated development environment (IDE) to work with <code>R</code></li>
<li><em>command</em>: user input (text or numbers) that <code>R</code> <em>understands</em>.</li>
<li><em>script</em>: a list of commands collected in a text file, each separated by a new line, to be run one after the other.</li>
</ul>
</div>
</div>
<div id="basic-calculations" class="section level2">
<h2><span class="header-section-number">1.3</span> Basic Calculations</h2>
<p>To get started, we’ll use <code>R</code> like a simple calculator. Run the following code either directly from your RStudio console, or in RStudio by writting them in a script and running them using <code>Command</code> + <code>Return</code>.</p>
<div id="addition-subtraction-multiplication-and-division" class="section level4 unnumbered">
<h4>Addition, Subtraction, Multiplication and Division</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center"><code>R</code> code</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(3 + 2\)</span></td>
<td align="center"><code>3 + 2</code></td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(3 - 2\)</span></td>
<td align="center"><code>3 - 2</code></td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(3 \cdot2\)</span></td>
<td align="center"><code>3 * 2</code></td>
<td align="center">6</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(3 / 2\)</span></td>
<td align="center"><code>3 / 2</code></td>
<td align="center">1.5</td>
</tr>
</tbody>
</table>
</div>
<div id="exponents" class="section level4 unnumbered">
<h4>Exponents</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center"><code>R</code> code</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(3^2\)</span></td>
<td align="center"><code>3 ^ 2</code></td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(2^{(-3)}\)</span></td>
<td align="center"><code>2 ^ (-3)</code></td>
<td align="center">0.125</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(100^{1/2}\)</span></td>
<td align="center"><code>100 ^ (1 / 2)</code></td>
<td align="center">10</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\sqrt{100}\)</span></td>
<td align="center"><code>sqrt(100)</code></td>
<td align="center">10</td>
</tr>
</tbody>
</table>
</div>
<div id="mathematical-constants" class="section level4 unnumbered">
<h4>Mathematical Constants</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center"><code>R</code> code</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\pi\)</span></td>
<td align="center"><code>pi</code></td>
<td align="center">3.1415927</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(e\)</span></td>
<td align="center"><code>exp(1)</code></td>
<td align="center">2.7182818</td>
</tr>
</tbody>
</table>
</div>
<div id="logarithms" class="section level4 unnumbered">
<h4>Logarithms</h4>
<p>Note that we will use <span class="math inline">\(\ln\)</span> and <span class="math inline">\(\log\)</span> interchangeably to mean the natural logarithm. There is no <code>ln()</code> in <code>R</code>, instead it uses <code>log()</code> to mean the natural logarithm.</p>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center"><code>R</code> code</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\log(e)\)</span></td>
<td align="center"><code>log(exp(1))</code></td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\log_{10}(1000)\)</span></td>
<td align="center"><code>log10(1000)</code></td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(\log_{2}(8)\)</span></td>
<td align="center"><code>log2(8)</code></td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\log_{4}(16)\)</span></td>
<td align="center"><code>log(16, base = 4)</code></td>
<td align="center">2</td>
</tr>
</tbody>
</table>
</div>
<div id="trigonometry" class="section level4 unnumbered">
<h4>Trigonometry</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center"><code>R</code> code</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\sin(\pi / 2)\)</span></td>
<td align="center"><code>sin(pi / 2)</code></td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\cos(0)\)</span></td>
<td align="center"><code>cos(0)</code></td>
<td align="center">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="getting-help" class="section level2">
<h2><span class="header-section-number">1.4</span> Getting Help</h2>
<p>In using <code>R</code> as a calculator, we have seen a number of functions: <code>sqrt()</code>, <code>exp()</code>, <code>log()</code> and <code>sin()</code>. To get documentation about a function in <code>R</code>, simply put a question mark in front of the function name, or call the function <code>help(function)</code> and RStudio will display the documentation, for example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?log
?sin
?paste
?lm
<span class="kw">help</span>(lm)   <span class="co"># help() is equivalent</span>
<span class="kw">help</span>(ggplot,<span class="dt">package=</span><span class="st">&quot;ggplot2&quot;</span>)  <span class="co"># show help from a certain package</span></code></pre></div>
<p>Frequently one of the most difficult things to do when learning <code>R</code> is asking for help. First, you need to decide to ask for help, then you need to know <em>how</em> to ask for help. Your very first line of defense should be to Google your error message or a short description of your issue. (The ability to solve problems using this method is quickly becoming an extremely valuable skill.) If that fails, and it eventually will, you should ask for help. There are a number of things you should include when contacting an instructor, or posting to a help website such as <a href="https://stackoverflow.com">Stack Overflow</a>.</p>
<ul>
<li>Describe what you expect the code to do.</li>
<li>State the end goal you are trying to achieve. (Sometimes what you expect the code to do, is not what you want to actually do.)</li>
<li>Provide the full text of any errors you have received.</li>
<li>Provide enough code to recreate the error. Often for the purpose of this course, you could simply post your entire <code>.R</code> script or <code>.Rmd</code> to <code>slack</code>.</li>
<li>Sometimes it is also helpful to include a screenshot of your entire RStudio window when the error occurs.</li>
</ul>
<p>If you follow these steps, you will get your issue resolved much quicker, and possibly learn more in the process. Do not be discouraged by running into errors and difficulties when learning <code>R</code>. (Or any other technical skill.) It is simply part of the learning process.</p>
</div>
<div id="installing-packages" class="section level2">
<h2><span class="header-section-number">1.5</span> Installing Packages</h2>
<p><code>R</code> comes with a number of built-in functions and datasets, but one of the main strengths of <code>R</code> as an open-source project is its package system. Packages add additional functions and data. Frequently if you want to do something in <code>R</code>, and it is not available by default, there is a good chance that there is a package that will fulfill your needs.</p>
<p>To install a package, use the <code>install.packages()</code> function. Think of this as buying a recipe book from the store, bringing it home, and putting it on your shelf (i.e. into your library):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</code></pre></div>
<p>Once a package is installed, it must be loaded into your current <code>R</code> session before being used. Think of this as taking the book off of the shelf and opening it up to read.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)</code></pre></div>
<p>Once you close <code>R</code>, all the packages are closed and put back on the imaginary shelf. The next time you open <code>R</code>, you do not have to install the package again, but you do have to load any packages you intend to use by invoking <code>library()</code>.</p>
</div>
<div id="code-output" class="section level2">
<h2><span class="header-section-number">1.6</span> <code>Code</code> vs Output in this Book</h2>
<p>A quick note on styling choices in this book. We had to make a decision how to visually separate <code>R</code> code and resulting output in this book. We decided to prefix all output lines with <code>#OUT&gt;</code> to make the distinction. A typical code snippet with output is thus going to look like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1] 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># everything after a # is a comment, i.e. R disregards it.</span></code></pre></div>
<p>where you see on the first line the <code>R</code> code, and on the second line the output. As mentioned, that line starts with <code>#OUT&gt;</code> to say <em>this is an output</em>, followed by <code>[1]</code> (indicating this is a vector of length <em>one</em> - more on this below!), followed by the actual result - <code>1 + 3 = 4</code>!</p>
<p>Notice that you can simply copy and paste all the code you see into your <code>R</code> console. In fact, you are <em>strongly</em> encouraged to actually do this and try out <strong>all the code</strong> you see in this book.</p>
<p>Finally, please note that this way of showing output is fully our choice in this textbook, and that you should expect other output formats elsewhere. For example, in my <code>RStudio</code> console, the above code and output looks like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="op">&gt;</span><span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span>
[<span class="dv">1</span>] <span class="dv">4</span></code></pre></div>
</div>
<div id="install-package" class="section level2">
<h2><span class="header-section-number">1.7</span> <code>ScPoEconometrics</code> Package</h2>
<p>To fully take advantage of our course, please install the associated <code>R</code> package directly from its online code repository. You can do this by copy and pasting the following three lines into your <code>R</code> console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">&quot;devtools&quot;</span>)) <span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)
<span class="kw">library</span>(devtools)
<span class="kw">install_github</span>(<span class="dt">repo =</span> <span class="st">&quot;ScPoEcon/ScPoEconometrics&quot;</span>)</code></pre></div>
<p>In order to check whether everything works fine, you could load the library, and check it’s current version:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ScPoEconometrics)
<span class="kw">packageVersion</span>(<span class="st">&quot;ScPoEconometrics&quot;</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] &#39;0.1.9&#39;</code></pre>
</div>
<div id="data-types" class="section level2">
<h2><span class="header-section-number">1.8</span> Data Types</h2>
<p><code>R</code> has a number of basic <em>data types</em>. While <code>R</code> is not a <em>strongly typed language</em> (i.e. you can be agnostic about types most of the times), it is useful to know what data types are available to you:</p>
<ul>
<li>Numeric
<ul>
<li>Also known as Double. The default type when dealing with numbers.</li>
<li>Examples: <code>1</code>, <code>1.0</code>, <code>42.5</code></li>
</ul></li>
<li>Integer
<ul>
<li>Examples: <code>1L</code>, <code>2L</code>, <code>42L</code></li>
</ul></li>
<li>Complex
<ul>
<li>Example: <code>4 + 2i</code></li>
</ul></li>
<li>Logical
<ul>
<li>Two possible values: <code>TRUE</code> and <code>FALSE</code></li>
<li>You can also use <code>T</code> and <code>F</code>, but this is <em>not</em> recommended.</li>
<li><code>NA</code> is also considered logical.</li>
</ul></li>
<li>Character
<ul>
<li>Examples: <code>&quot;a&quot;</code>, <code>&quot;Statistics&quot;</code>, <code>&quot;1 plus 2.&quot;</code></li>
</ul></li>
<li>Categorical or <code>factor</code>
<ul>
<li>A mixture of integer and character. A <code>factor</code> variable assigns a label to a numeric value.</li>
<li>For example <code>factor(x=c(0,1),labels=c(&quot;male&quot;,&quot;female&quot;))</code> assigns the string <em>male</em> to the numeric values <code>0</code>, and the string <em>female</em> to the value <code>1</code>.</li>
</ul></li>
</ul>
</div>
<div id="data-structures" class="section level2">
<h2><span class="header-section-number">1.9</span> Data Structures</h2>
<p><code>R</code> also has a number of basic data <em>structures</em>. A data structure is either homogeneous (all elements are of the same data type) or heterogeneous (elements can be of more than one data type).</p>
<table>
<thead>
<tr class="header">
<th align="center">Dimension</th>
<th align="center"><strong>Homogeneous</strong></th>
<th align="center"><strong>Heterogeneous</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">Vector</td>
<td align="center">List</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">Matrix</td>
<td align="center">Data Frame</td>
</tr>
<tr class="odd">
<td align="center">3+</td>
<td align="center">Array</td>
<td align="center">nested Lists</td>
</tr>
</tbody>
</table>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">1.9.1</span> Vectors</h3>
<p>Many operations in <code>R</code> make heavy use of <strong>vectors</strong>. A vector is a <em>container</em> for objects of identical type (see <a href="R-intro.html#data-types">1.8</a> above). Vectors in <code>R</code> are indexed starting at <code>1</code>. That is what the <code>[1]</code> in the output is indicating, that the first element of the row being displayed is the first element of the vector. Larger vectors will start additional rows with something like <code>[7]</code> where <code>7</code> is the index of the first element of that row.</p>
<p>Possibly the most common way to create a vector in <code>R</code> is using the <code>c()</code> function, which is short for “combine”. As the name suggests, it combines a list of elements separated by commas. (Are you busy typing all of those examples into your <code>R</code> console? :-) )</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 1 3 5 7 8 9</code></pre>
<p>Here <code>R</code> simply outputs this vector. If we would like to store this vector in a <strong>variable</strong> we can do so with the <strong>assignment</strong> operator <code>=</code>. In this case the variable <code>x</code> now holds the vector we just created, and we can access the vector by typing <code>x</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)
x</code></pre></div>
<pre><code>#OUT&gt; [1] 1 3 5 7 8 9</code></pre>
<p>As an aside, there is a long history of the assignment operator in <code>R</code>, partially due to the keys available on the <a href="https://twitter.com/kwbroman/status/747829864091127809">keyboards of the creators of the <code>S</code> language.</a> (Which preceded <code>R</code>.) For simplicity we will use <code>=</code>, but know that often you will see <code>&lt;-</code> as the assignment operator.</p>
<p>Because vectors must contain elements that are all the same type, <code>R</code> will automatically <strong>coerce</strong> (i.e. convert) to a single type when attempting to create a vector that combines multiple types.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">42</span>, <span class="st">&quot;Statistics&quot;</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;42&quot;         &quot;Statistics&quot; &quot;TRUE&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(<span class="dv">42</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 42  1</code></pre>
<p>Frequently you may wish to create a vector based on a sequence of numbers. The quickest and easiest way to do this is with the <code>:</code> operator, which creates a sequence of integers between two specified integers.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">(<span class="dt">y =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)</code></pre></div>
<pre><code>#OUT&gt;   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17
#OUT&gt;  [18]  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34
#OUT&gt;  [35]  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51
#OUT&gt;  [52]  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68
#OUT&gt;  [69]  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85
#OUT&gt;  [86]  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100</code></pre>
<p>Here we see <code>R</code> labeling the rows after the first since this is a large vector. Also, we see that by putting parentheses around the assignment, <code>R</code> both stores the vector in a variable called <code>y</code> and automatically outputs <code>y</code> to the console.</p>
<p>Note that scalars do not exists in <code>R</code>. They are simply vectors of length <code>1</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span></code></pre></div>
<pre><code>#OUT&gt; [1] 2</code></pre>
<p>If we want to create a sequence that isn’t limited to integers and increasing by 1 at a time, we can use the <code>seq()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="fl">1.5</span>, <span class="dt">to =</span> <span class="fl">4.2</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)</code></pre></div>
<pre><code>#OUT&gt;  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 3.0 3.1
#OUT&gt; [18] 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>We will discuss functions in detail later, but note here that the input labels <code>from</code>, <code>to</code>, and <code>by</code> are optional.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="fl">1.5</span>, <span class="fl">4.2</span>, <span class="fl">0.1</span>)</code></pre></div>
<pre><code>#OUT&gt;  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 3.0 3.1
#OUT&gt; [18] 3.2 3.3 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>Another common operation to create a vector is <code>rep()</code>, which can repeat a single value a number of times.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="st">&quot;A&quot;</span>, <span class="dt">times =</span> <span class="dv">10</span>)</code></pre></div>
<pre><code>#OUT&gt;  [1] &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot;</code></pre>
<p>The <code>rep()</code> function can be used to repeat a vector some number of times.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(x, <span class="dt">times =</span> <span class="dv">3</span>)</code></pre></div>
<pre><code>#OUT&gt;  [1] 1 3 5 7 8 9 1 3 5 7 8 9 1 3 5 7 8 9</code></pre>
<p>We have now seen four different ways to create vectors:</p>
<ul>
<li><code>c()</code></li>
<li><code>:</code></li>
<li><code>seq()</code></li>
<li><code>rep()</code></li>
</ul>
<p>So far we have mostly used them in isolation, but they are often used together.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">c</span>(x, <span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dv">42</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>)</code></pre></div>
<pre><code>#OUT&gt;  [1]  1  3  5  7  8  9  1  3  5  7  9  1  3  5  7  9  1  3  5  7  9  1  2
#OUT&gt; [24]  3 42  2  3  4</code></pre>
<p>The length of a vector can be obtained with the <code>length()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(x)</code></pre></div>
<pre><code>#OUT&gt; [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">length</span>(y)</code></pre></div>
<pre><code>#OUT&gt; [1] 100</code></pre>
<div class="warning">
<p>
Let’s try this out! <strong>Your turn</strong>:
</p>
</div>
<div id="task-1" class="section level4">
<h4><span class="header-section-number">1.9.1.1</span> Task 1</h4>
<ol style="list-style-type: decimal">
<li>Create a vector of five ones, i.e. <code>[1,1,1,1,1]</code></li>
<li>Notice that the colon operator <code>a:b</code> is just short for <em>construct a sequence <strong>from</strong> <code>a</code> <strong>to</strong> <code>b</code></em>. Create a vector the counts down from 10 to 0, i.e. it looks like <code>[10,9,8,7,6,5,4,3,2,1,0]</code>!</li>
<li>the <code>rep</code> function takes additional arguments <code>times</code> (as above), and <code>each</code>, which tells you how often <em>each element</em> should be repeated (as opposed to the entire input vector). Use <code>rep</code> to create a vector that looks like this: <code>[1 1 1 2 2 2 3 3 3 1 1 1 2 2 2 3 3 3]</code></li>
</ol>
</div>
<div id="subsetting" class="section level4">
<h4><span class="header-section-number">1.9.1.2</span> Subsetting</h4>
<p>To subset a vector, i.e. to choose only some elements of it, we use square brackets, <code>[]</code>. Here we see that <code>x[1]</code> returns the first element, and <code>x[3]</code> returns the third element:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre><code>#OUT&gt; [1] 1 3 5 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">3</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 5</code></pre>
<p>We can also exclude certain indexes, in this case the second element.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="op">-</span><span class="dv">2</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 5 7 8 9</code></pre>
<p>Lastly we see that we can subset based on a vector of indices.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 3 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 5 7</code></pre>
<p>All of the above are subsetting a vector using a vector of indexes. (Remember a single number is still a vector.) We could instead use a vector of logical values.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z =<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)
z</code></pre></div>
<pre><code>#OUT&gt; [1]  TRUE  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[z]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 3 7 8</code></pre>
<p><code>R</code> is able to perform many operations on vectors and scalars alike:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>  <span class="co"># a vector</span>
x <span class="op">+</span><span class="st"> </span><span class="dv">1</span>     <span class="co"># add a scalar</span></code></pre></div>
<pre><code>#OUT&gt;  [1]  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x     <span class="co"># multiply all elements by 2</span></code></pre></div>
<pre><code>#OUT&gt;  [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">2</span> <span class="op">^</span><span class="st"> </span>x     <span class="co"># take 2 to the x as exponents</span></code></pre></div>
<pre><code>#OUT&gt;  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sqrt</span>(x)   <span class="co"># compute the square root of all elements in x</span></code></pre></div>
<pre><code>#OUT&gt;  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751
#OUT&gt;  [8] 2.828427 3.000000 3.162278</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">log</span>(x)    <span class="co"># take the natural log of all elements in x</span></code></pre></div>
<pre><code>#OUT&gt;  [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595 1.9459101
#OUT&gt;  [8] 2.0794415 2.1972246 2.3025851</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>x   <span class="co"># add vector x to vector 2x</span></code></pre></div>
<pre><code>#OUT&gt;  [1]  3  6  9 12 15 18 21 24 27 30</code></pre>
<p>We see that when a function like <code>log()</code> is called on a vector <code>x</code>, a vector is returned which has applied the function to each element of the vector <code>x</code>.</p>
</div>
</div>
<div id="logical-operators" class="section level3">
<h3><span class="header-section-number">1.9.2</span> Logical Operators</h3>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="center">Summary</th>
<th align="center">Example</th>
<th align="center">Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x &lt; y</code></td>
<td align="center"><code>x</code> less than <code>y</code></td>
<td align="center"><code>3 &lt; 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x &gt; y</code></td>
<td align="center"><code>x</code> greater than <code>y</code></td>
<td align="center"><code>3 &gt; 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="left"><code>x &lt;= y</code></td>
<td align="center"><code>x</code> less than or equal to <code>y</code></td>
<td align="center"><code>3 &lt;= 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x &gt;= y</code></td>
<td align="center"><code>x</code> greater than or equal to <code>y</code></td>
<td align="center"><code>3 &gt;= 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="left"><code>x == y</code></td>
<td align="center"><code>x</code>equal to <code>y</code></td>
<td align="center"><code>3 == 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="left"><code>x != y</code></td>
<td align="center"><code>x</code> not equal to <code>y</code></td>
<td align="center"><code>3 != 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="odd">
<td align="left"><code>!x</code></td>
<td align="center">not <code>x</code></td>
<td align="center"><code>!(3 &gt; 42)</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x | y</code></td>
<td align="center"><code>x</code> or <code>y</code></td>
<td align="center"><code>(3 &gt; 42) | TRUE</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="odd">
<td align="left"><code>x &amp; y</code></td>
<td align="center"><code>x</code> and <code>y</code></td>
<td align="center"><code>(3 &lt; 4) &amp; ( 42 &gt; 13)</code></td>
<td align="center">TRUE</td>
</tr>
</tbody>
</table>
<p>In <code>R</code>, logical operators also work on vectors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1]  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1] FALSE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1]  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></code></pre></div>
<pre><code>#OUT&gt; [1] TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<p>This is quite useful for subsetting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 5 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 5 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 0 0 1 1 1 1</code></pre>
<p>Here we saw that using the <code>sum()</code> function on a vector of logical <code>TRUE</code> and <code>FALSE</code> values that is the result of <code>x &gt; 3</code> results in a numeric result: you just <em>counted</em> for how many elements of <code>x</code>, the condition <code>&gt; 3</code> is <code>TRUE</code>. During the call to <code>sum()</code>, <code>R</code> is first automatically coercing the logical to numeric where <code>TRUE</code> is <code>1</code> and <code>FALSE</code> is <code>0</code>. This coercion from logical to numeric happens for most mathematical operations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># which(condition of x) returns true/false  </span>
<span class="co"># each index of x where condition is true</span>
<span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 3 4 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)]</code></pre></div>
<pre><code>#OUT&gt; [1] 5 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(x)</code></pre></div>
<pre><code>#OUT&gt; [1] 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(x <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(x))</code></pre></div>
<pre><code>#OUT&gt; [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which.max</span>(x)</code></pre></div>
<pre><code>#OUT&gt; [1] 6</code></pre>
<div id="task-2" class="section level4">
<h4><span class="header-section-number">1.9.2.1</span> Task 2</h4>
<ol style="list-style-type: decimal">
<li>Create a vector filled with 10 numbers drawn from the uniform distribution (hint: use function <code>runif</code>) and store them in <code>x</code>.</li>
<li>Using logical subsetting as above, get all the elements of <code>x</code> which are larger than 0.5, and store them in <code>y</code>.</li>
<li>using the function <code>which</code>, store the <em>indices</em> of all the elements of <code>x</code> which are larger than 0.5 in <code>iy</code>.</li>
<li>Check that <code>y</code> and <code>x[iy]</code> are identical.</li>
</ol>
</div>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">1.9.3</span> Matrices</h3>
<p><code>R</code> can also be used for <strong>matrix</strong> calculations. Matrices have rows and columns containing a single data type. In a matrix, the order of rows and columns is important. (This is not true of <em>data frames</em>, which we will see later.)</p>
<p>Matrices can be created using the <code>matrix</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span>
x</code></pre></div>
<pre><code>#OUT&gt; [1] 1 2 3 4 5 6 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>)
X</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    1    4    7
#OUT&gt; [2,]    2    5    8
#OUT&gt; [3,]    3    6    9</code></pre>
<p>Notice here that <code>R</code> is case sensitive (<code>x</code> vs <code>X</code>).</p>
<p>By default the <code>matrix</code> function fills your data into the matrix column by column. But we can also tell <code>R</code> to fill rows instead:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Y =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)
Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    1    2    3
#OUT&gt; [2,]    4    5    6
#OUT&gt; [3,]    7    8    9</code></pre>
<p>We can also create a matrix of a specified dimension where every element is the same, in this case <code>0</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Z =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>)
Z</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3] [,4]
#OUT&gt; [1,]    0    0    0    0
#OUT&gt; [2,]    0    0    0    0</code></pre>
<p>Like vectors, matrices can be subsetted using square brackets, <code>[]</code>. However, since matrices are two-dimensional, we need to specify both a row and a column when subsetting.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    1    4    7
#OUT&gt; [2,]    2    5    8
#OUT&gt; [3,]    3    6    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">1</span>, <span class="dv">2</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 4</code></pre>
<p>Here we accessed the element in the first row and the second column. We could also subset an entire row or column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">1</span>, ]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 4 7</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[, <span class="dv">2</span>]</code></pre></div>
<pre><code>#OUT&gt; [1] 4 5 6</code></pre>
<p>We can also use vectors to subset more than one row or column at a time. Here we subset to the first and third column of the second row:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X[<span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</code></pre></div>
<pre><code>#OUT&gt; [1] 2 8</code></pre>
<p>Matrices can also be created by combining vectors as columns, using <code>cbind</code>, or combining vectors as rows, using <code>rbind</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span>
<span class="kw">rev</span>(x)</code></pre></div>
<pre><code>#OUT&gt; [1] 9 8 7 6 5 4 3 2 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 1 1 1 1 1 1 1 1 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">rbind</span>(x, <span class="kw">rev</span>(x), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</code></pre></div>
<pre><code>#OUT&gt;   [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
#OUT&gt; x    1    2    3    4    5    6    7    8    9
#OUT&gt;      9    8    7    6    5    4    3    2    1
#OUT&gt;      1    1    1    1    1    1    1    1    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cbind</span>(<span class="dt">col_1 =</span> x, <span class="dt">col_2 =</span> <span class="kw">rev</span>(x), <span class="dt">col_3 =</span> <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</code></pre></div>
<pre><code>#OUT&gt;       col_1 col_2 col_3
#OUT&gt;  [1,]     1     9     1
#OUT&gt;  [2,]     2     8     1
#OUT&gt;  [3,]     3     7     1
#OUT&gt;  [4,]     4     6     1
#OUT&gt;  [5,]     5     5     1
#OUT&gt;  [6,]     6     4     1
#OUT&gt;  [7,]     7     3     1
#OUT&gt;  [8,]     8     2     1
#OUT&gt;  [9,]     9     1     1</code></pre>
<p>When using <code>rbind</code> and <code>cbind</code> you can specify “argument” names that will be used as column names.</p>
<p><code>R</code> can then be used to perform matrix calculations.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span>
y =<span class="st"> </span><span class="dv">9</span><span class="op">:</span><span class="dv">1</span>
X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dv">3</span>, <span class="dv">3</span>)
Y =<span class="st"> </span><span class="kw">matrix</span>(y, <span class="dv">3</span>, <span class="dv">3</span>)
X</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    1    4    7
#OUT&gt; [2,]    2    5    8
#OUT&gt; [3,]    3    6    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    9    6    3
#OUT&gt; [2,]    8    5    2
#OUT&gt; [3,]    7    4    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X <span class="op">+</span><span class="st"> </span>Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]   10   10   10
#OUT&gt; [2,]   10   10   10
#OUT&gt; [3,]   10   10   10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X <span class="op">-</span><span class="st"> </span>Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]   -8   -2    4
#OUT&gt; [2,]   -6    0    6
#OUT&gt; [3,]   -4    2    8</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X <span class="op">*</span><span class="st"> </span>Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    9   24   21
#OUT&gt; [2,]   16   25   16
#OUT&gt; [3,]   21   24    9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X <span class="op">/</span><span class="st"> </span>Y</code></pre></div>
<pre><code>#OUT&gt;           [,1]      [,2]     [,3]
#OUT&gt; [1,] 0.1111111 0.6666667 2.333333
#OUT&gt; [2,] 0.2500000 1.0000000 4.000000
#OUT&gt; [3,] 0.4285714 1.5000000 9.000000</code></pre>
<p>Note that <code>X * Y</code> is <strong>not</strong> matrix multiplication. It is <em>element by element</em> multiplication. (Same for <code>X / Y</code>). Matrix multiplication uses <code>%*%</code>. Other matrix functions include <code>t()</code> which gives the transpose of a matrix and <code>solve()</code> which returns the inverse of a square matrix if it is invertible.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">X <span class="op">%*%</span><span class="st"> </span>Y</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]   90   54   18
#OUT&gt; [2,]  114   69   24
#OUT&gt; [3,]  138   84   30</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">t</span>(X)</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3]
#OUT&gt; [1,]    1    2    3
#OUT&gt; [2,]    4    5    6
#OUT&gt; [3,]    7    8    9</code></pre>
</div>
<div id="arrays" class="section level3">
<h3><span class="header-section-number">1.9.4</span> Arrays</h3>
<p>A vector is a one-dimensional array. A matrix is a two-dimensional array. In <code>R</code> you can create arrays of arbitrary dimensionality <code>N</code>. Here is how:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">16</span>
d3 =<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> d,<span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>))
d4 =<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> d,<span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">3</span>))  <span class="co"># will recycle 1:16</span>
d3</code></pre></div>
<pre><code>#OUT&gt; , , 1
#OUT&gt; 
#OUT&gt;      [,1] [,2]
#OUT&gt; [1,]    1    5
#OUT&gt; [2,]    2    6
#OUT&gt; [3,]    3    7
#OUT&gt; [4,]    4    8
#OUT&gt; 
#OUT&gt; , , 2
#OUT&gt; 
#OUT&gt;      [,1] [,2]
#OUT&gt; [1,]    9   13
#OUT&gt; [2,]   10   14
#OUT&gt; [3,]   11   15
#OUT&gt; [4,]   12   16</code></pre>
<p>You can see that <code>d3</code> are simply <em>two</em> (4,2) matrices laid on top of each other, as if there were <em>two pages</em>. Similary, <code>d4</code> would have two pages, and another 3 registers in a fourth dimension. And so on. You can subset an array like you would a vector or a matrix, taking care to index each dimension:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d3[ ,<span class="dv">1</span>,<span class="dv">1</span>]  <span class="co"># all elements from col 1, page 1</span></code></pre></div>
<pre><code>#OUT&gt; [1] 1 2 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d3[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>, , ]  <span class="co"># rows 2:3 from all pages</span></code></pre></div>
<pre><code>#OUT&gt; , , 1
#OUT&gt; 
#OUT&gt;      [,1] [,2]
#OUT&gt; [1,]    2    6
#OUT&gt; [2,]    3    7
#OUT&gt; 
#OUT&gt; , , 2
#OUT&gt; 
#OUT&gt;      [,1] [,2]
#OUT&gt; [1,]   10   14
#OUT&gt; [2,]   11   15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">d3[<span class="dv">2</span>,<span class="dv">2</span>, ]  <span class="co"># row 2, col 2 from both pages.</span></code></pre></div>
<pre><code>#OUT&gt; [1]  6 14</code></pre>
<div id="task-3" class="section level4">
<h4><span class="header-section-number">1.9.4.1</span> Task 3</h4>
<ol style="list-style-type: decimal">
<li>Create a vector containing <code>1,2,3,4,5</code> called v.</li>
<li>Create a (2,5) matrix <code>m</code> containing the data <code>1,2,3,4,5,6,7,8,9,10</code>. The first row should be <code>1,2,3,4,5</code>.</li>
<li>Perform matrix multiplication of <code>m</code> with <code>v</code>. Use the command <code>%*%</code>. What dimension does the output have?</li>
<li>Why does <code>v %*% m</code> not work?</li>
</ol>
</div>
</div>
<div id="lists" class="section level3">
<h3><span class="header-section-number">1.9.5</span> Lists</h3>
<p>A list is a one-dimensional <em>heterogeneous</em> data structure. So it is indexed like a vector with a single integer value (or with a name), but each element can contain an element of any type. Lists are similar to a python or julia <code>Dict</code> object. Many <code>R</code> structures and outputs are lists themselves. Lists are extremely useful and versatile objects, so make sure you understand their useage:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># creation without fieldnames</span>
<span class="kw">list</span>(<span class="dv">42</span>, <span class="st">&quot;Hello&quot;</span>, <span class="ot">TRUE</span>)</code></pre></div>
<pre><code>#OUT&gt; [[1]]
#OUT&gt; [1] 42
#OUT&gt; 
#OUT&gt; [[2]]
#OUT&gt; [1] &quot;Hello&quot;
#OUT&gt; 
#OUT&gt; [[3]]
#OUT&gt; [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># creation with fieldnames</span>
ex_list =<span class="st"> </span><span class="kw">list</span>(
  <span class="dt">a =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>),
  <span class="dt">b =</span> <span class="ot">TRUE</span>,
  <span class="dt">c =</span> <span class="st">&quot;Hello!&quot;</span>,
  <span class="dt">d =</span> <span class="cf">function</span>(<span class="dt">arg =</span> <span class="dv">42</span>) {<span class="kw">print</span>(<span class="st">&quot;Hello World!&quot;</span>)},
  <span class="dt">e =</span> <span class="kw">diag</span>(<span class="dv">5</span>)
)</code></pre></div>
<p>Lists can be subset using two syntaxes, the <code>$</code> operator, and square brackets <code>[]</code>. The <code>$</code> operator returns a named <strong>element</strong> of a list. The <code>[]</code> syntax returns a <strong>list</strong>, while the <code>[[]]</code> returns an <strong>element</strong> of a list.</p>
<ul>
<li><code>ex_list[1]</code> returns a list contain the first element.</li>
<li><code>ex_list[[1]]</code> returns the first element of the list, in this case, a vector.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># subsetting</span>
ex_list<span class="op">$</span>e</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3] [,4] [,5]
#OUT&gt; [1,]    1    0    0    0    0
#OUT&gt; [2,]    0    1    0    0    0
#OUT&gt; [3,]    0    0    1    0    0
#OUT&gt; [4,]    0    0    0    1    0
#OUT&gt; [5,]    0    0    0    0    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</code></pre></div>
<pre><code>#OUT&gt; $a
#OUT&gt; [1] 1 2 3 4
#OUT&gt; 
#OUT&gt; $b
#OUT&gt; [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[<span class="dv">1</span>]</code></pre></div>
<pre><code>#OUT&gt; $a
#OUT&gt; [1] 1 2 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>#OUT&gt; [1] 1 2 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[<span class="kw">c</span>(<span class="st">&quot;e&quot;</span>, <span class="st">&quot;a&quot;</span>)]</code></pre></div>
<pre><code>#OUT&gt; $e
#OUT&gt;      [,1] [,2] [,3] [,4] [,5]
#OUT&gt; [1,]    1    0    0    0    0
#OUT&gt; [2,]    0    1    0    0    0
#OUT&gt; [3,]    0    0    1    0    0
#OUT&gt; [4,]    0    0    0    1    0
#OUT&gt; [5,]    0    0    0    0    1
#OUT&gt; 
#OUT&gt; $a
#OUT&gt; [1] 1 2 3 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[<span class="st">&quot;e&quot;</span>]</code></pre></div>
<pre><code>#OUT&gt; $e
#OUT&gt;      [,1] [,2] [,3] [,4] [,5]
#OUT&gt; [1,]    1    0    0    0    0
#OUT&gt; [2,]    0    1    0    0    0
#OUT&gt; [3,]    0    0    1    0    0
#OUT&gt; [4,]    0    0    0    1    0
#OUT&gt; [5,]    0    0    0    0    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list[[<span class="st">&quot;e&quot;</span>]]</code></pre></div>
<pre><code>#OUT&gt;      [,1] [,2] [,3] [,4] [,5]
#OUT&gt; [1,]    1    0    0    0    0
#OUT&gt; [2,]    0    1    0    0    0
#OUT&gt; [3,]    0    0    1    0    0
#OUT&gt; [4,]    0    0    0    1    0
#OUT&gt; [5,]    0    0    0    0    1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list<span class="op">$</span>d</code></pre></div>
<pre><code>#OUT&gt; function(arg = 42) {print(&quot;Hello World!&quot;)}</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ex_list<span class="op">$</span><span class="kw">d</span>(<span class="dt">arg =</span> <span class="dv">1</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;Hello World!&quot;</code></pre>
<div id="task-4" class="section level4">
<h4><span class="header-section-number">1.9.5.1</span> Task 4</h4>
<ol style="list-style-type: decimal">
<li>Copy and paste the above code for <code>ex_list</code> into your R session. Remember that <code>list</code> can hold any kind of <code>R</code> object. Like…another list! So, create a new list <code>new_list</code> that has two fields: a first field called “this” with string content <code>&quot;is awesome&quot;</code>, and a second field called “ex_list” that contains <code>ex_list</code>.</li>
<li>Accessing members is like in a plain list, just with several layers now. Get the element <code>c</code> from <code>ex_list</code> in <code>new_list</code>!</li>
<li>Compose a new string out of the first element in <code>new_list</code>, the element under label <code>this</code>. Use the function <code>paste</code> to print <code>R is awesome</code> to your screen.</li>
</ol>
</div>
</div>
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">1.10</span> Data Frames</h2>
<p>We have previously seen vectors and matrices for storing data as we introduced <code>R</code>. We will now introduce a <strong>data frame</strong> which will be the most common way that we store and interact with data in this course. A <code>data.frame</code> is similar to a python <code>pandas.dataframe</code> or a julia <code>DataFrame</code>. (But the <code>R</code> version was the first! :-) )</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>),
                          <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Hello&quot;</span>, <span class="dv">9</span>), <span class="st">&quot;Goodbye&quot;</span>),
                          <span class="dt">z =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="dv">5</span>))</code></pre></div>
<p>Unlike a matrix, which can be thought of as a vector rearranged into rows and columns, a data frame is not required to have the same data type for each element. A data frame is a <strong>list</strong> of vectors, and each vector has a <em>name</em>. So, each vector must contain the same data type, but the different vectors can store different data types. Note, however, that all vectors must have <strong>the same length</strong> (differently from a <code>list</code>)!</p>
<div class="tip">
<p>
A <strong>data.frame</strong> is similar to a typical Spreadsheet. There are <em>rows</em>, and there are <em>columns</em>. A row is typically thought of as an <em>observation</em>, and each column is a certain <em>variable</em>, <em>characteristic</em> or <em>feature</em> of that observation.
</p>
</div>
<p><br> Let’s look at the data frame we just created above:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data</code></pre></div>
<pre><code>#OUT&gt;    x       y     z
#OUT&gt; 1  1   Hello  TRUE
#OUT&gt; 2  3   Hello FALSE
#OUT&gt; 3  5   Hello  TRUE
#OUT&gt; 4  7   Hello FALSE
#OUT&gt; 5  9   Hello  TRUE
#OUT&gt; 6  1   Hello FALSE
#OUT&gt; 7  3   Hello  TRUE
#OUT&gt; 8  5   Hello FALSE
#OUT&gt; 9  7   Hello  TRUE
#OUT&gt; 10 9 Goodbye FALSE</code></pre>
<p>Unlike a list, which has more flexibility, the elements of a data frame must all be vectors. Again, we access any given column with the <code>$</code> operator:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data<span class="op">$</span>x</code></pre></div>
<pre><code>#OUT&gt;  [1] 1 3 5 7 9 1 3 5 7 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">all.equal</span>(<span class="kw">length</span>(example_data<span class="op">$</span>x),
          <span class="kw">length</span>(example_data<span class="op">$</span>y),
          <span class="kw">length</span>(example_data<span class="op">$</span>z))</code></pre></div>
<pre><code>#OUT&gt; [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(example_data)</code></pre></div>
<pre><code>#OUT&gt; &#39;data.frame&#39;: 10 obs. of  3 variables:
#OUT&gt;  $ x: num  1 3 5 7 9 1 3 5 7 9
#OUT&gt;  $ y: Factor w/ 2 levels &quot;Goodbye&quot;,&quot;Hello&quot;: 2 2 2 2 2 2 2 2 2 1
#OUT&gt;  $ z: logi  TRUE FALSE TRUE FALSE TRUE FALSE ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(example_data)</code></pre></div>
<pre><code>#OUT&gt; [1] 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(example_data)</code></pre></div>
<pre><code>#OUT&gt; [1] 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(example_data)</code></pre></div>
<pre><code>#OUT&gt; [1] 10  3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(example_data)</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div id="working-with-data.frames" class="section level3">
<h3><span class="header-section-number">1.10.1</span> Working with <code>data.frames</code></h3>
<p>The <code>data.frame()</code> function above is one way to create a data frame. We can also import data from various file types in into <code>R</code>, as well as use data stored in packages.</p>
<p>To read this data back into <code>R</code>, we will use the built-in function <code>read.csv</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">path =<span class="st"> </span><span class="kw">system.file</span>(<span class="dt">package=</span><span class="st">&quot;ScPoEconometrics&quot;</span>,<span class="st">&quot;datasets&quot;</span>,<span class="st">&quot;example-data.csv&quot;</span>)
example_data_from_disk =<span class="st"> </span><span class="kw">read.csv</span>(path)</code></pre></div>
<p>This particular line of code assumes that you installed the associated R package to this book, hence you have this dataset stored on your computer at <code>system.file(package = &quot;ScPoEconometrics&quot;,&quot;datasets&quot;,&quot;example-data.csv&quot;)</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">example_data_from_disk</code></pre></div>
<pre><code>#OUT&gt;    x       y     z
#OUT&gt; 1  1   Hello  TRUE
#OUT&gt; 2  3   Hello FALSE
#OUT&gt; 3  5   Hello  TRUE
#OUT&gt; 4  7   Hello FALSE
#OUT&gt; 5  9   Hello  TRUE
#OUT&gt; 6  1   Hello FALSE
#OUT&gt; 7  3   Hello  TRUE
#OUT&gt; 8  5   Hello FALSE
#OUT&gt; 9  7   Hello  TRUE
#OUT&gt; 10 9 Goodbye FALSE</code></pre>
<p>When using data, there are three things we would generally like to do:</p>
<ul>
<li>Look at the raw data.</li>
<li>Understand the data. (Where did it come from? What are the variables? Etc.)</li>
<li>Visualize the data.</li>
</ul>
<p>To look at data in a <code>data.frame</code>, we have two useful commands: <code>head()</code> and <code>str()</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># we are working with the built-in mtcars dataset:</span>
mtcars</code></pre></div>
<pre><code>#OUT&gt;                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#OUT&gt; Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
#OUT&gt; Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
#OUT&gt; Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
#OUT&gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
#OUT&gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
#OUT&gt; Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
#OUT&gt; Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
#OUT&gt; Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#OUT&gt; Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#OUT&gt; Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
#OUT&gt; Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
#OUT&gt; Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
#OUT&gt; Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
#OUT&gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
#OUT&gt; Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
#OUT&gt; Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
#OUT&gt; Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
#OUT&gt; Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
#OUT&gt; Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
#OUT&gt; Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
#OUT&gt; Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
#OUT&gt; Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
#OUT&gt; AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
#OUT&gt; Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
#OUT&gt; Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
#OUT&gt; Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
#OUT&gt; Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
#OUT&gt; Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
#OUT&gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
#OUT&gt; Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
#OUT&gt; Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
#OUT&gt; Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<p>You can see that this prints the entire data.frame to screen. The function <code>head()</code> will display the first <code>n</code> observations of the data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mtcars,<span class="dt">n=</span><span class="dv">2</span>)</code></pre></div>
<pre><code>#OUT&gt;               mpg cyl disp  hp drat    wt  qsec vs am gear carb
#OUT&gt; Mazda RX4      21   6  160 110  3.9 2.620 16.46  0  1    4    4
#OUT&gt; Mazda RX4 Wag  21   6  160 110  3.9 2.875 17.02  0  1    4    4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mtcars) <span class="co"># default</span></code></pre></div>
<pre><code>#OUT&gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
#OUT&gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#OUT&gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#OUT&gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
#OUT&gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
#OUT&gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
#OUT&gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>The function <code>str()</code> will display the “structure” of the data frame. It will display the number of <strong>observations</strong> and <strong>variables</strong>, list the variables, give the type of each variable, and show some elements of each variable. This information can also be found in the “Environment” window in RStudio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(mtcars)</code></pre></div>
<pre><code>#OUT&gt; &#39;data.frame&#39;: 32 obs. of  11 variables:
#OUT&gt;  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
#OUT&gt;  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
#OUT&gt;  $ disp: num  160 160 108 258 360 ...
#OUT&gt;  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
#OUT&gt;  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
#OUT&gt;  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
#OUT&gt;  $ qsec: num  16.5 17 18.6 19.4 17 ...
#OUT&gt;  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
#OUT&gt;  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
#OUT&gt;  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
#OUT&gt;  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>In this dataset an observation is for a particular model of a car, and the variables describe attributes of the car, for example its fuel efficiency, or its weight.</p>
<p>To understand more about the data set, we use the <code>?</code> operator to pull up the documentation for the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?mtcars</code></pre></div>
<p><code>R</code> has a number of functions for quickly working with and extracting basic information from data frames. To quickly obtain a vector of the variable names, we use the <code>names()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(mtcars)</code></pre></div>
<pre><code>#OUT&gt;  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
#OUT&gt; [11] &quot;carb&quot;</code></pre>
<p>To access one of the variables <strong>as a vector</strong>, we use the <code>$</code> operator.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>mpg</code></pre></div>
<pre><code>#OUT&gt;  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2
#OUT&gt; [15] 10.4 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4
#OUT&gt; [29] 15.8 19.7 15.0 21.4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mtcars<span class="op">$</span>wt</code></pre></div>
<pre><code>#OUT&gt;  [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 3.440 3.440
#OUT&gt; [12] 4.070 3.730 3.780 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520
#OUT&gt; [23] 3.435 3.840 3.845 1.935 2.140 1.513 3.170 2.770 3.570 2.780</code></pre>
<p>We can use the <code>dim()</code>, <code>nrow()</code> and <code>ncol()</code> functions to obtain information about the dimension of the data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(mtcars)</code></pre></div>
<pre><code>#OUT&gt; [1] 32 11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">nrow</span>(mtcars)</code></pre></div>
<pre><code>#OUT&gt; [1] 32</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ncol</span>(mtcars)</code></pre></div>
<pre><code>#OUT&gt; [1] 11</code></pre>
<p>Here <code>nrow()</code> is also the number of observations, which in most cases is the <em>sample size</em>.</p>
<p>Subsetting data frames can work much like subsetting matrices using square brackets, <code>[ , ]</code>. Here, we find vehicles with mpg over 25 miles per gallon and only display columns <code>cyl</code>, <code>disp</code> and <code>wt</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># mpg[row condition, col condition]</span>
mtcars[mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, <span class="kw">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;disp&quot;</span>, <span class="st">&quot;wt&quot;</span>)]</code></pre></div>
<pre><code>#OUT&gt;                cyl  disp    wt
#OUT&gt; Mazda RX4        6 160.0 2.620
#OUT&gt; Mazda RX4 Wag    6 160.0 2.875
#OUT&gt; Datsun 710       4 108.0 2.320
#OUT&gt; Hornet 4 Drive   6 258.0 3.215
#OUT&gt; Merc 240D        4 146.7 3.190
#OUT&gt; Merc 230         4 140.8 3.150
#OUT&gt; Fiat 128         4  78.7 2.200
#OUT&gt; Honda Civic      4  75.7 1.615
#OUT&gt; Toyota Corolla   4  71.1 1.835
#OUT&gt; Toyota Corona    4 120.1 2.465
#OUT&gt; Fiat X1-9        4  79.0 1.935
#OUT&gt; Porsche 914-2    4 120.3 2.140
#OUT&gt; Lotus Europa     4  95.1 1.513
#OUT&gt; Volvo 142E       4 121.0 2.780</code></pre>
<p>An alternative would be to use the <code>subset()</code> function, which has a much more readable syntax.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subset</span>(mtcars, <span class="dt">subset =</span> mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;disp&quot;</span>, <span class="st">&quot;wt&quot;</span>))</code></pre></div>
<div id="task-5" class="section level4">
<h4><span class="header-section-number">1.10.1.1</span> Task 5</h4>
<ol style="list-style-type: decimal">
<li>How many observations are there in <code>mtcars</code>?</li>
<li>How many variables?</li>
<li>What is the average value of <code>mpg</code>?</li>
<li>What is the average value of <code>mpg</code> for cars with more than 4 cylinders, i.e. with <code>cyl&gt;4</code>?</li>
</ol>
</div>
</div>
</div>
<div id="programming-basics" class="section level2">
<h2><span class="header-section-number">1.11</span> Programming Basics</h2>
<p>In this section we illustrate some general concepts related to programming.</p>
<div id="variables" class="section level3">
<h3><span class="header-section-number">1.11.1</span> Variables</h3>
<p>We encountered the term <em>variable</em> already several times, but mainly in the context of a column of a data.frame. In programming, a variable is denotes an <em>object</em>. Another way to say it is that a variable is a name or a <em>label</em> for something:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>
y =<span class="st"> &quot;roses&quot;</span>
z =<span class="st"> </span><span class="cf">function</span>(x){<span class="kw">sqrt</span>(x)}</code></pre></div>
<p>Here <code>x</code> refers to the value <code>1</code>, <code>y</code> holds the string “roses”, and <code>z</code> is the name of a function that computes <span class="math inline">\(\sqrt{x}\)</span>. Notice that the argument <code>x</code> of the function is different from the <code>x</code> we just defined. It is <strong>local</strong> to the function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x</code></pre></div>
<pre><code>#OUT&gt; [1] 1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">z</span>(<span class="dv">9</span>)</code></pre></div>
<pre><code>#OUT&gt; [1] 3</code></pre>
</div>
<div id="control-flow" class="section level3">
<h3><span class="header-section-number">1.11.2</span> Control Flow</h3>
<p>Control Flow relates to ways in which you can adapt your code to different circumstances. Based on a <code>condition</code> being <code>TRUE</code>, your program will do one thing, as opposed to another thing. This is most widely known as an <code>if/else</code> statement. In <code>R</code>, the if/else syntax is:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="dt">condition =</span> <span class="ot">TRUE</span>) {
  some R code
} <span class="cf">else</span> {
  some other R code
}</code></pre></div>
<p>For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x =<span class="st"> </span><span class="dv">1</span>
y =<span class="st"> </span><span class="dv">3</span>
<span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span>y) {  <span class="co"># test if x &gt; y</span>
  <span class="co"># if TRUE</span>
  z =<span class="st"> </span>x <span class="op">*</span><span class="st"> </span>y
  <span class="kw">print</span>(<span class="st">&quot;x is larger than y&quot;</span>)
} <span class="cf">else</span> {
  <span class="co"># if FALSE</span>
  z =<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">*</span><span class="st"> </span>y
  <span class="kw">print</span>(<span class="st">&quot;x is less than or equal to y&quot;</span>)
}</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;x is less than or equal to y&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z</code></pre></div>
<pre><code>#OUT&gt; [1] 16</code></pre>
</div>
<div id="loops" class="section level3">
<h3><span class="header-section-number">1.11.3</span> Loops</h3>
<p>Loops are a very important programming construct. As the name suggests, in a <em>loop</em>, the programming <em>repeatedly</em> loops over a set of instructions, until some condition tells it to stop. A very powerful, yet simple, construction is that the program can <em>count how many steps</em> it has done already - which may be important to know for many algorithms. The syntax of a <code>for</code> loop (there are others), is</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (ix <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>){   <span class="co"># does not have to be 1:10!</span>
  <span class="co"># loop body: gets executed each time</span>
  <span class="co"># the value of ix changes with each iteration</span>
}</code></pre></div>
<p>For example, consider this simple <code>for</code> loop, which will simply print the value of the <em>iterator</em> (called <code>i</code> in this case) to screen:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>){
  <span class="kw">print</span>(i)
}</code></pre></div>
<pre><code>#OUT&gt; [1] 1
#OUT&gt; [1] 2
#OUT&gt; [1] 3
#OUT&gt; [1] 4
#OUT&gt; [1] 5</code></pre>
<p>Notice that instead of <code>1:5</code>, we could have <em>any</em> kind of iterable collection:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(<span class="st">&quot;mangos&quot;</span>,<span class="st">&quot;bananas&quot;</span>,<span class="st">&quot;apples&quot;</span>)){
  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;I love&quot;</span>,i))  <span class="co"># the paste function pastes together strings</span>
}</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;I love mangos&quot;
#OUT&gt; [1] &quot;I love bananas&quot;
#OUT&gt; [1] &quot;I love apples&quot;</code></pre>
<p>We often also see <em>nested</em> loops, which are just what its name suggests:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>){
  <span class="co"># first nest: for each i</span>
  <span class="cf">for</span> (j <span class="cf">in</span> <span class="kw">c</span>(<span class="st">&quot;mangos&quot;</span>,<span class="st">&quot;bananas&quot;</span>,<span class="st">&quot;apples&quot;</span>)){
    <span class="co"># second nest: for each j</span>
    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Can I get&quot;</span>,i,j,<span class="st">&quot;please?&quot;</span>))
  }
}</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;Can I get 2 mangos please?&quot;
#OUT&gt; [1] &quot;Can I get 2 bananas please?&quot;
#OUT&gt; [1] &quot;Can I get 2 apples please?&quot;
#OUT&gt; [1] &quot;Can I get 3 mangos please?&quot;
#OUT&gt; [1] &quot;Can I get 3 bananas please?&quot;
#OUT&gt; [1] &quot;Can I get 3 apples please?&quot;</code></pre>
<p>The important thing to note here is that you can do calculations with the iterators <em>while inside a loop</em>.</p>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">1.11.4</span> Functions</h3>
<p>So far we have been using functions, but haven’t actually discussed some of their details. A function is a set of instructions that <code>R</code> executes for us, much like those collected in a script file. The good thing is that functions are much more flexible than scripts, since they can depend on <em>input arguments</em>, which change the way the function behaves. Here is how to define a function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">function_name &lt;-<span class="st"> </span><span class="cf">function</span>(arg1,<span class="dt">arg2=</span>default_value){
  <span class="co"># function body</span>
  <span class="co"># you do stuff with arg1 and arg2</span>
  <span class="co"># you can have any number of arguments, with or without defaults</span>
  <span class="co"># any valid `R` commands can be included here</span>
  <span class="co"># the last line is returned</span>
}</code></pre></div>
<p>And here is a trivial example of a function definition:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hello &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">your_name =</span> <span class="st">&quot;Lord Vader&quot;</span>){
  <span class="kw">paste</span>(<span class="st">&quot;You R most welcome,&quot;</span>,your_name)
  <span class="co"># we could also write:</span>
  <span class="co"># return(paste(&quot;You R most welcome,&quot;,your_name))</span>
}

<span class="co"># we call the function by typing it&#39;s name with round brackets</span>
<span class="kw">hello</span>()</code></pre></div>
<pre><code>#OUT&gt; [1] &quot;You R most welcome, Lord Vader&quot;</code></pre>
<p>You see that by not specifying the argument <code>your_name</code>, <code>R</code> reverts to the default value given. Try with your own name now!</p>
<p>Just typing the function name returns the actual definition to us, which is handy sometimes:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hello</code></pre></div>
<pre><code>#OUT&gt; function(your_name = &quot;Lord Vader&quot;){
#OUT&gt;   paste(&quot;You R most welcome,&quot;,your_name)
#OUT&gt;   # we could also write:
#OUT&gt;   # return(paste(&quot;You R most welcome,&quot;,your_name))
#OUT&gt; }</code></pre>
<p>It’s instructive to consider that before we defined the function <code>hello</code> above, <code>R</code> did not know what to do, had you called <code>hello()</code>. The function did not exist! In this sense, we <em>taught <code>R</code> a new trick</em>. This feature to create new capabilities on top of a core language is one of the most powerful characteristics of programming languages. In general, it is good practice to split your code into several smaller functions, rather than one long script file. It makes your code more readable, and it is easier to track down mistakes.</p>
<div id="task-6" class="section level4">
<h4><span class="header-section-number">1.11.4.1</span> Task 6</h4>
<ol style="list-style-type: decimal">
<li>Write a for loop that counts down from 10 to 1, printing the value of the iterator to the screen.</li>
<li>Modify that loop to write “i iterations to go” where <code>i</code> is the iterator</li>
<li>Modify that loop so that each iteration takes roughly one second. You can achieve that by adding the command <code>Sys.sleep(1)</code> below the line that prints “i iterations to go”.</li>
</ol>

</div>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>When programming, it is often a good practice to follow a style guide. (Where do spaces go? Tabs or spaces? Underscores or CamelCase when naming variables?) No style guide is “correct” but it helps to be aware of what others do. The more import thing is to be consistent within your own code. Here are two guides: <a href="http://adv-r.had.co.nz/Style.html">Hadley Wickham Style Guide</a>, and the <a href="https://google.github.io/styleguide/Rguide.xml">Google Style Guide</a>. For this course, our main deviation from these two guides is the use of <code>=</code> in place of <code>&lt;-</code>. For all practical purposes, you should think <code>=</code> whenever you see <code>&lt;-</code>.<a href="R-intro.html#fnref1">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sum.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ScPoEcon/ScPoEconometrics/edit/master/01-R.Rmd",
"text": "Edit"
},
"download": ["ScPoEconometrics.pdf", "ScPoEconometrics.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
