<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Chapter 5 Categorial Variables | Introduction to Econometrics with R</title>
  <meta name="description" content="SciencesPo UG Econometrics online textbook. Almost no Maths.">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="Chapter 5 Categorial Variables | Introduction to Econometrics with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://scpoecon.github.io/ScPoEconometrics/" />
  
  <meta property="og:description" content="SciencesPo UG Econometrics online textbook. Almost no Maths." />
  <meta name="github-repo" content="ScPoEcon/ScPoEconometrics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Categorial Variables | Introduction to Econometrics with R" />
  
  <meta name="twitter:description" content="SciencesPo UG Econometrics online textbook. Almost no Maths." />
  

<meta name="author" content="Florian Oswald, Jean-Marc Robin and Vincent Viers">


<meta name="date" content="2019-03-05">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="favicon.gif" type="image/x-icon">
<link rel="prev" href="multiple-reg.html">
<link rel="next" href="std-errors.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-41584331-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-41584331-4');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ScPo 2nd Year Econometrics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Syllabus</a></li>
<li class="chapter" data-level="1" data-path="R-intro.html"><a href="R-intro.html"><i class="fa fa-check"></i><b>1</b> Introduction to <code>R</code></a><ul>
<li class="chapter" data-level="1.1" data-path="R-intro.html"><a href="R-intro.html#getting-started"><i class="fa fa-check"></i><b>1.1</b> Getting Started</a></li>
<li class="chapter" data-level="1.2" data-path="R-intro.html"><a href="R-intro.html#starting-r-and-rstudio"><i class="fa fa-check"></i><b>1.2</b> Starting R and RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="R-intro.html"><a href="R-intro.html#basic-calculations"><i class="fa fa-check"></i><b>1.3</b> Basic Calculations</a></li>
<li class="chapter" data-level="1.4" data-path="R-intro.html"><a href="R-intro.html#getting-help"><i class="fa fa-check"></i><b>1.4</b> Getting Help</a></li>
<li class="chapter" data-level="1.5" data-path="R-intro.html"><a href="R-intro.html#installing-packages"><i class="fa fa-check"></i><b>1.5</b> Installing Packages</a></li>
<li class="chapter" data-level="1.6" data-path="R-intro.html"><a href="R-intro.html#code-output"><i class="fa fa-check"></i><b>1.6</b> <code>Code</code> vs Output in this Book</a></li>
<li class="chapter" data-level="1.7" data-path="R-intro.html"><a href="R-intro.html#install-package"><i class="fa fa-check"></i><b>1.7</b> <code>ScPoEconometrics</code> Package</a></li>
<li class="chapter" data-level="1.8" data-path="R-intro.html"><a href="R-intro.html#data-types"><i class="fa fa-check"></i><b>1.8</b> Data Types</a></li>
<li class="chapter" data-level="1.9" data-path="R-intro.html"><a href="R-intro.html#data-structures"><i class="fa fa-check"></i><b>1.9</b> Data Structures</a></li>
<li class="chapter" data-level="1.10" data-path="R-intro.html"><a href="R-intro.html#dataframes"><i class="fa fa-check"></i><b>1.10</b> Data Frames</a></li>
<li class="chapter" data-level="1.11" data-path="R-intro.html"><a href="R-intro.html#programming-basics"><i class="fa fa-check"></i><b>1.11</b> Programming Basics</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sum.html"><a href="sum.html"><i class="fa fa-check"></i><b>2</b> Working With Data</a><ul>
<li class="chapter" data-level="2.1" data-path="sum.html"><a href="sum.html#summary-statistics"><i class="fa fa-check"></i><b>2.1</b> Summary Statistics</a></li>
<li class="chapter" data-level="2.2" data-path="sum.html"><a href="sum.html#plotting"><i class="fa fa-check"></i><b>2.2</b> Plotting</a></li>
<li class="chapter" data-level="2.3" data-path="sum.html"><a href="sum.html#summarize-two"><i class="fa fa-check"></i><b>2.3</b> Summarizing Two Variables</a></li>
<li class="chapter" data-level="2.4" data-path="sum.html"><a href="sum.html#the-tidyverse"><i class="fa fa-check"></i><b>2.4</b> The <code>tidyverse</code></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="linreg.html"><a href="linreg.html"><i class="fa fa-check"></i><b>3</b> Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="linreg.html"><a href="linreg.html#how-are-x-and-y-related"><i class="fa fa-check"></i><b>3.1</b> How are <code>x</code> and <code>y</code> related?</a></li>
<li class="chapter" data-level="3.2" data-path="linreg.html"><a href="linreg.html#OLS"><i class="fa fa-check"></i><b>3.2</b> Ordinary Least Squares (OLS) Estimator</a></li>
<li class="chapter" data-level="3.3" data-path="linreg.html"><a href="linreg.html#pred-resids"><i class="fa fa-check"></i><b>3.3</b> Predictions and Residuals</a></li>
<li class="chapter" data-level="3.4" data-path="linreg.html"><a href="linreg.html#correlation-covariance-and-linearity"><i class="fa fa-check"></i><b>3.4</b> Correlation, Covariance and Linearity</a></li>
<li class="chapter" data-level="3.5" data-path="linreg.html"><a href="linreg.html#analysing-vary"><i class="fa fa-check"></i><b>3.5</b> Analysing <span class="math inline">\(Var(y)\)</span></a></li>
<li class="chapter" data-level="3.6" data-path="linreg.html"><a href="linreg.html#assessing-the-goodness-of-fit"><i class="fa fa-check"></i><b>3.6</b> Assessing the <em>Goodness of Fit</em></a></li>
<li class="chapter" data-level="3.7" data-path="linreg.html"><a href="linreg.html#lm-example1"><i class="fa fa-check"></i><b>3.7</b> An Example: California Student Test Scores</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="multiple-reg.html"><a href="multiple-reg.html"><i class="fa fa-check"></i><b>4</b> Multiple Regression</a><ul>
<li class="chapter" data-level="4.1" data-path="multiple-reg.html"><a href="multiple-reg.html#ceteris"><i class="fa fa-check"></i><b>4.1</b> All Else Equal</a></li>
<li class="chapter" data-level="4.2" data-path="multiple-reg.html"><a href="multiple-reg.html#multicol"><i class="fa fa-check"></i><b>4.2</b> Multicolinearity</a></li>
<li class="chapter" data-level="4.3" data-path="multiple-reg.html"><a href="multiple-reg.html#california-test-scores-2"><i class="fa fa-check"></i><b>4.3</b> California Test Scores 2</a></li>
<li class="chapter" data-level="4.4" data-path="multiple-reg.html"><a href="multiple-reg.html#mreg-interactions"><i class="fa fa-check"></i><b>4.4</b> Interactions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="categorical-vars.html"><a href="categorical-vars.html"><i class="fa fa-check"></i><b>5</b> Categorial Variables</a><ul>
<li class="chapter" data-level="5.1" data-path="categorical-vars.html"><a href="categorical-vars.html#the-binary-regressor-case"><i class="fa fa-check"></i><b>5.1</b> The Binary Regressor Case</a></li>
<li class="chapter" data-level="5.2" data-path="categorical-vars.html"><a href="categorical-vars.html#dummy-and-continuous-variables"><i class="fa fa-check"></i><b>5.2</b> Dummy and Continuous Variables</a></li>
<li class="chapter" data-level="5.3" data-path="categorical-vars.html"><a href="categorical-vars.html#categorical-variables-in-r-factor"><i class="fa fa-check"></i><b>5.3</b> Categorical Variables in <code>R</code>: <code>factor</code></a></li>
<li class="chapter" data-level="5.4" data-path="categorical-vars.html"><a href="categorical-vars.html#saturated-models-main-effects-and-interactions"><i class="fa fa-check"></i><b>5.4</b> Saturated Models: Main Effects and Interactions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="std-errors.html"><a href="std-errors.html"><i class="fa fa-check"></i><b>6</b> Standard Errors</a><ul>
<li class="chapter" data-level="6.1" data-path="std-errors.html"><a href="std-errors.html#what-is-true-what-are-statistical-models"><i class="fa fa-check"></i><b>6.1</b> What is <em>true</em>? What are Statistical Models?</a></li>
<li class="chapter" data-level="6.2" data-path="std-errors.html"><a href="std-errors.html#class-reg"><i class="fa fa-check"></i><b>6.2</b> The Classical Regression Model</a></li>
<li class="chapter" data-level="6.3" data-path="std-errors.html"><a href="std-errors.html#back-to-sampling"><i class="fa fa-check"></i><b>6.3</b> Back to Sampling</a></li>
<li class="chapter" data-level="6.4" data-path="std-errors.html"><a href="std-errors.html#hypothesis-testing"><i class="fa fa-check"></i><b>6.4</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="6.5" data-path="std-errors.html"><a href="std-errors.html#whats-in-my-model-and-what-is-not"><i class="fa fa-check"></i><b>6.5</b> What’s in my model? (And what is not?)</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="quantreg.html"><a href="quantreg.html"><i class="fa fa-check"></i><b>7</b> Quantile Regression</a></li>
<li class="chapter" data-level="8" data-path="panel-data.html"><a href="panel-data.html"><i class="fa fa-check"></i><b>8</b> Panel Data</a><ul>
<li class="chapter" data-level="8.1" data-path="panel-data.html"><a href="panel-data.html#fixed-effects"><i class="fa fa-check"></i><b>8.1</b> fixed effects</a></li>
<li class="chapter" data-level="8.2" data-path="panel-data.html"><a href="panel-data.html#did"><i class="fa fa-check"></i><b>8.2</b> DiD</a></li>
<li class="chapter" data-level="8.3" data-path="panel-data.html"><a href="panel-data.html#rdd"><i class="fa fa-check"></i><b>8.3</b> RDD</a></li>
<li class="chapter" data-level="8.4" data-path="panel-data.html"><a href="panel-data.html#example"><i class="fa fa-check"></i><b>8.4</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="IV.html"><a href="IV.html"><i class="fa fa-check"></i><b>9</b> Instrumental Variables</a><ul>
<li class="chapter" data-level="9.1" data-path="IV.html"><a href="IV.html#simultaneity-bias"><i class="fa fa-check"></i><b>9.1</b> Simultaneity Bias</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="logit-probit.html"><a href="logit-probit.html"><i class="fa fa-check"></i><b>10</b> Logit and Probit</a></li>
<li class="chapter" data-level="11" data-path="pca.html"><a href="pca.html"><i class="fa fa-check"></i><b>11</b> Principal Component Analysis</a></li>
<li class="chapter" data-level="12" data-path="R-advanced.html"><a href="R-advanced.html"><i class="fa fa-check"></i><b>12</b> Advanced <code>R</code></a><ul>
<li class="chapter" data-level="12.1" data-path="R-advanced.html"><a href="R-advanced.html#more-vectorization"><i class="fa fa-check"></i><b>12.1</b> More Vectorization</a></li>
<li class="chapter" data-level="12.2" data-path="R-advanced.html"><a href="R-advanced.html#calculations-with-vectors-and-matrices"><i class="fa fa-check"></i><b>12.2</b> Calculations with Vectors and Matrices</a></li>
<li class="chapter" data-level="12.3" data-path="R-advanced.html"><a href="R-advanced.html#matrices-1"><i class="fa fa-check"></i><b>12.3</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="slides.html"><a href="slides.html"><i class="fa fa-check"></i><b>13</b> Slides</a><ul>
<li class="chapter" data-level="13.1" data-path="slides.html"><a href="slides.html#worked-tutorials"><i class="fa fa-check"></i><b>13.1</b> Worked Tutorials</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>14</b> Notes</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction to Econometrics with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="categorical-vars" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Categorial Variables</h1>
<p>Up until now, we have encountered only examples with <em>continuous</em> variables <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, that is, <span class="math inline">\(x,y \in \mathbb{R}\)</span>, so that a typical observation could have been <span class="math inline">\((y_i,x_i) = (1.5,5.62)\)</span>. There are many situations where it makes sense to think about the data in terms of <em>categories</em>, rather than continuous numbers. For example, whether an observation <span class="math inline">\(i\)</span> is <em>male</em> or <em>female</em>, whether a pixel on a screen is <em>black</em> or <em>white</em>, and whether a good was produced in <em>France</em>, <em>Germany</em>, <em>Italy</em>, <em>China</em> or <em>Spain</em> are all categorical classifications of data.</p>
<p>Probably the simplest type of categorical variable is the <em>binary</em>, <em>boolean</em>, or just <em>dummy</em> variable. As the name suggests, it can take on only two values, <code>0</code> and <code>1</code>, or <code>TRUE</code> and <code>FALSE</code>.</p>
<div id="the-binary-regressor-case" class="section level2">
<h2><span class="header-section-number">5.1</span> The Binary Regressor Case</h2>
<p>Even though this is an extremely parsimonious way of encoding that, it is a very powerful tool that allows us to represent that a certain observation <span class="math inline">\(i\)</span> <strong>is a member</strong> of a certain category <span class="math inline">\(j\)</span>. For example, let’s imagine we have income data on males and females, and we would create a variable called <code>is.male</code> that is <code>TRUE</code> whenever <span class="math inline">\(i\)</span> is male, <code>FALSE</code> otherwise, and similarly for women. For example, to encode whether subject <span class="math inline">\(i\)</span> is male, one could do this:</p>
<span class="math display">\[\begin{align*}
\text{is.male}_i &amp;=  \begin{cases}
                    1 &amp; \text{if }i\text{ is male} \\
                    0 &amp; \text{if }i\text{ is not male}. \\
                 \end{cases}, \\
\end{align*}\]</span>
<p>and similarly for females, we’d have</p>
<span class="math display">\[\begin{align*}
\text{is.female}_i &amp;=  \begin{cases}
                    1 &amp; \text{if }i\text{ is female} \\
                    0 &amp; \text{if }i\text{ is not female}. \\
                 \end{cases} \\
\end{align*}\]</span>
<p>By definition, we have just introduced a linear dependence into our dataset. It will always be true that <span class="math inline">\(\text{is.male}_i + \text{is.female}_i = 1\)</span>. This is because dummy variables are based on data being mutually exclusively categorized - here, you are either male or female.<a href="#fn4" class="footnoteRef" id="fnref4"><sup>4</sup></a> This should immediately remind you of section <a href="multiple-reg.html#multicol">4.2</a> where we introduced <em>multicolinearity</em>. A regression of income on both of our variables like this</p>
<p><span class="math display">\[
y_i = b_0 + b_1 \text{is.female}_i + b_2 \text{is.male}_i + e_i
\]</span> would be invalid because of perfect colinearity between <span class="math inline">\(\text{is.female}_i\)</span> and <span class="math inline">\(\text{is.male}_i\)</span>. The solution to this is pragmatic and simple:</p>
<div class="tip">
<p>
In dummy variable regressions, we remove one category from the regression (for example here: <code>is.male</code>) and call it the <em>reference category</em>. The effect of being <em>male</em> is absorbed in the intercept. The coefficient on the remaining categories measures the <em>difference</em> in mean outcome with respect to the reference category.
</p>
</div>
<p><br></p>
<p>Now let’s try this out. We start by creating the female indicator as above,</p>
<p><span class="math display">\[
\text{is.female}_i = \begin{cases}
          1 &amp; \text{if }i\text{ is female} \\
            0 &amp; \text{if }i\text{ is not female}. \\
   \end{cases}
\]</span> and let’s suppose that <span class="math inline">\(y_i\)</span> is a measure of <span class="math inline">\(i\)</span>’s annual labor income. Our model is</p>
<span class="math display" id="eq:dummy-reg">\[\begin{equation}
y_i = b_0 + b_1 \text{is.female}_i + e_i \tag{5.1}
\end{equation}\]</span>
<p>and here is how we estimate this in <code>R</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># x = sample(x = c(0, 1), size = n, replace = T)</span>
dta<span class="op">$</span>is.female =<span class="st"> </span><span class="kw">factor</span>(x)  <span class="co"># convert x to factor</span>
dummy_reg =<span class="st"> </span><span class="kw">lm</span>(y<span class="op">~</span>is.female,dta)
<span class="kw">summary</span>(dummy_reg)</code></pre></div>
<pre><code>#OUT&gt; 
#OUT&gt; Call:
#OUT&gt; lm(formula = y ~ is.female, data = dta)
#OUT&gt; 
#OUT&gt; Residuals:
#OUT&gt;     Min      1Q  Median      3Q     Max 
#OUT&gt; -2.3901 -0.6565  0.1612  0.6846  2.7850 
#OUT&gt; 
#OUT&gt; Coefficients:
#OUT&gt;             Estimate Std. Error t value Pr(&gt;|t|)    
#OUT&gt; (Intercept)   2.0847     0.2396   8.700 1.97e-11 ***
#OUT&gt; is.female1   -3.0631     0.3202  -9.566 1.06e-12 ***
#OUT&gt; ---
#OUT&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#OUT&gt; 
#OUT&gt; Residual standard error: 1.124 on 48 degrees of freedom
#OUT&gt; Multiple R-squared:  0.6559,  Adjusted R-squared:  0.6488 
#OUT&gt; F-statistic:  91.5 on 1 and 48 DF,  p-value: 1.061e-12</code></pre>
<p>Notice that <code>R</code> displays the <em>level</em> of the factor to which coefficient <span class="math inline">\(b_1\)</span> belongs here, i.e. <code>is.female1</code> means this coefficient is on level <code>is.female = 1</code> - the reference level is <code>is.female = 0</code>, and it has no separate coefficient. Also interesting is that <span class="math inline">\(b_1\)</span> is equal to the difference in conditional means between male and female</p>
<p><span class="math display">\[b_1 = E[y|\text{is.female}=1] - E[y|\text{is.female}=0]=-3.0631.\]</span></p>
<div class="note">
<p>
A dummy variable measures the difference or the <em>offset</em> in the mean of the response variable, <span class="math inline"><span class="math inline">\(E[y]\)</span></span>, <strong>conditional</strong> on <span class="math inline"><span class="math inline">\(x\)</span></span> belonging to some category - relative to a baseline category. In our artificial example, the coefficient <span class="math inline"><span class="math inline">\(b_1\)</span></span> informs us that women earn on average 3.756 units less than men.
</p>
</div>
<p><br></p>
<p>It is instructive to reconsider this example graphically:</p>
<div class="figure" style="text-align: center"><span id="fig:x-zero-one"></span>
<img src="ScPoEconometrics_files/figure-html/x-zero-one-1.png" alt="regressing $y \in \mathbb{R}$ on $\text{is.female}_i \in \{0,1\}$. The blue line is $E[y]$, the red arrow is the size of $b_1$. Which is the same as the slope of the regression line in this case and the difference in conditional means!" width="672" />
<p class="caption">
Figure 5.1: regressing <span class="math inline">\(y \in \mathbb{R}\)</span> on <span class="math inline">\(\text{is.female}_i \in \{0,1\}\)</span>. The blue line is <span class="math inline">\(E[y]\)</span>, the red arrow is the size of <span class="math inline">\(b_1\)</span>. Which is the same as the slope of the regression line in this case and the difference in conditional means!
</p>
</div>
<p>In figure <a href="categorical-vars.html#fig:x-zero-one">5.1</a> we see that this regression simplifies to the straight line connecting the mean, or the <em>expected value</em> of <span class="math inline">\(y\)</span> when <span class="math inline">\(\text{is.female}_i = 0\)</span>, i.e. <span class="math inline">\(E[y|\text{is.female}_i=0]\)</span>, to the mean when <span class="math inline">\(\text{is.female}_i=1\)</span>, i.e. <span class="math inline">\(E[y|\text{is.female}_i=1]\)</span>. It is useful to remember that the <em>unconditional mean</em> of <span class="math inline">\(y\)</span>, i.e. <span class="math inline">\(E[y]\)</span>, is going to be the result of regressing <span class="math inline">\(y\)</span> only on an intercept, illustrated by the blue line. This line will always lie in between both conditional means. As indicated by the red arrow, the estimate of the coefficient on the dummy, <span class="math inline">\(b_1\)</span>, is equal to the difference in conditional means for both groups. You should look at our app now to deepen your understanding of what’s going on here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ScPoEconometrics)
<span class="kw">launchApp</span>(<span class="st">&quot;reg_dummy&quot;</span>)</code></pre></div>
</div>
<div id="dummy-and-continuous-variables" class="section level2">
<h2><span class="header-section-number">5.2</span> Dummy and Continuous Variables</h2>
<p>What happens if there are more predictors than just the dummy variable in a regression? For example, what if instead we had</p>
<span class="math display" id="eq:dummy-reg2">\[\begin{equation}
y_i = b_0 + b_1 \text{is.female}_i + b_2 \text{exper}_i + e_i \tag{5.2}
\end{equation}\]</span>
<p>where <span class="math inline">\(\text{exper}_i\)</span> would measure years of experience in the labor market? As above, the dummy variable acts as an intercept shifter. We have</p>
<span class="math display">\[\begin{equation}
y_i =  \begin{cases}
b_0 + b_1 + b_2 \times \text{exper}_i + e_i &amp; \text{if is.female=1} \\
b_0  + \hphantom{b_1} +b_2 \times \text{exper}_i + e_i &amp; \text{if is.female=0}
\end{cases}
\end{equation}\]</span>
<p>so that the intercept is <span class="math inline">\(b_0 + b_1\)</span> for women but <span class="math inline">\(b_0\)</span> for men. We will see this in the real-world example below, but for now let’s see the effect of switching the dummy <em>on</em> and <em>off</em> in this app:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ScPoEconometrics)
<span class="kw">launchApp</span>(<span class="st">&quot;reg_dummy_example&quot;</span>)</code></pre></div>
</div>
<div id="categorical-variables-in-r-factor" class="section level2">
<h2><span class="header-section-number">5.3</span> Categorical Variables in <code>R</code>: <code>factor</code></h2>
<p><code>R</code> has extensive support for categorical variables built-in. The relevant data type representing a categorical variable is called <code>factor</code>. We encountered them as basic data types in section <a href="R-intro.html#data-types">1.8</a> already, but it is worth repeating this here. We have seen that a factor <em>categorizes</em> a usually small number of numeric values by <em>labels</em>, as in this example which is similar to what I used to create regressor <code>is.female</code> for the above regression:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">is.female =<span class="st"> </span><span class="kw">factor</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>))
is.female</code></pre></div>
<pre><code>#OUT&gt; [1] FALSE TRUE  TRUE  FALSE
#OUT&gt; Levels: FALSE TRUE</code></pre>
<p>You can see the result is a vector object of type <code>factor</code> with 4 entries, whereby <code>0</code> is represented as <code>FALSE</code> and <code>1</code> as <code>TRUE</code>. An other example could be if we wanted to record a variable <em>sex</em> instead, and we could do</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sex =<span class="st"> </span><span class="kw">factor</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">0</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>))
sex</code></pre></div>
<pre><code>#OUT&gt; [1] male   female female male  
#OUT&gt; Levels: male female</code></pre>
<p>You can see that this is almost identical, just the <em>labels</em> are different.</p>
<div id="more-levels" class="section level3">
<h3><span class="header-section-number">5.3.1</span> More Levels</h3>
<p>We can go beyond <em>binary</em> categorical variables such as <code>TRUE</code> vs <code>FALSE</code>. For example, suppose that <span class="math inline">\(x\)</span> measures educational attainment, i.e. it is now something like <span class="math inline">\(x_i \in \{\text{high school,some college,BA,MSc}\}\)</span>. In <code>R</code> parlance, <em>high school, some college, BA, MSc</em> are the <strong>levels of factor <span class="math inline">\(x\)</span></strong>. A straightforward extension of the above would dictate to create one dummy variable for each category (or level), like</p>
<span class="math display">\[\begin{align*}
\text{has.HS}_i &amp;= \mathbf{1}[x_i==\text{high school}] \\
\text{has.someCol}_i &amp;= \mathbf{1}[x_i==\text{some college}] \\
\text{has.BA}_i &amp;= \mathbf{1}[x_i==\text{BA}] \\
\text{has.MSc}_i &amp;= \mathbf{1}[x_i==\text{MSc}] 
\end{align*}\]</span>
<p>but you can see that this is cumbersome. There is a better solution for us available:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">4</span>),<span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;HS&quot;</span>,<span class="st">&quot;someCol&quot;</span>,<span class="st">&quot;BA&quot;</span>,<span class="st">&quot;MSc&quot;</span>))</code></pre></div>
<pre><code>#OUT&gt; [1] HS      HS      someCol MSc     BA      MSc    
#OUT&gt; Levels: HS someCol BA MSc</code></pre>
<p>Notice here that <code>R</code> will apply the labels in increasing order the way you supplied it (i.e. a numerical value <code>4</code> will correspond to “MSc”, no matter the ordering in <code>x</code>.)</p>
</div>
<div id="factor-and-lm" class="section level3">
<h3><span class="header-section-number">5.3.2</span> <code>factor</code> and <code>lm()</code></h3>
<p>The above developed <code>factor</code> terminology fits neatly into <code>R</code>’s linear model fitting framework. Let us illustrate the simplest use by way of example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Ecdat)  <span class="co"># need to load this library</span>
<span class="kw">data</span>(<span class="st">&quot;Wages&quot;</span>)   <span class="co"># from Ecdat</span>
<span class="kw">str</span>(Wages)   <span class="co"># let&#39;s examine this dataset!</span></code></pre></div>
<pre><code>#OUT&gt; &#39;data.frame&#39;: 4165 obs. of  12 variables:
#OUT&gt;  $ exp    : int  3 4 5 6 7 8 9 30 31 32 ...
#OUT&gt;  $ wks    : int  32 43 40 39 42 35 32 34 27 33 ...
#OUT&gt;  $ bluecol: Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 2 2 2 ...
#OUT&gt;  $ ind    : int  0 0 0 0 1 1 1 0 0 1 ...
#OUT&gt;  $ south  : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 2 2 2 2 2 2 1 1 1 ...
#OUT&gt;  $ smsa   : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 1 1 1 ...
#OUT&gt;  $ married: Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 2 2 2 2 2 2 2 2 2 ...
#OUT&gt;  $ sex    : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 2 2 2 2 2 2 2 2 2 ...
#OUT&gt;  $ union  : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 1 1 2 ...
#OUT&gt;  $ ed     : int  9 9 9 9 9 9 9 11 11 11 ...
#OUT&gt;  $ black  : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 1 1 1 1 1 1 1 1 1 1 ...
#OUT&gt;  $ lwage  : num  5.56 5.72 6 6 6.06 ...</code></pre>
<p>Notice here that, conveniently, <code>sex</code> is already coded as type <code>factor</code>. Now assume that this is a single cross section for wages of US workers. The main outcome variable is <code>lwage</code> which stands for <em>logarithm of wage</em>.</p>
</div>
<div id="log-transformations" class="section level3">
<h3><span class="header-section-number">5.3.3</span> Log Transformations</h3>
<p>It is quite common to transform either outcome or explanatory or both variables by the natural logarithm. The primary motivation of this is to make the regression scale invariant. Suppose that factor <span class="math inline">\(\alpha\)</span> represented the <em>scale</em> of measurement of income, so that <span class="math inline">\(\alpha=1\)</span> if we measure in Euros, or <span class="math inline">\(\alpha=1000\)</span> if in thousands of Euros. With log-transforming regressor <span class="math inline">\(x\)</span>, our equation would look like</p>
<p><span class="math display">\[
y = b_0 + b_1 \log(\alpha x) = b_0 + \log \alpha  + b_1 \log x 
\]</span> where the <em>scale</em> <span class="math inline">\(\alpha\)</span> moves into the intercept, and our slope coefficient becomes invariant to it. If both outcome and regressor are transformed, we have</p>
<p><span class="math display">\[
\log y = b_0 + b_1 \log x
\]</span> and the slope coefficient is</p>
<p><span class="math display">\[
b_1 = \frac{d\log y}{d \log x} = \frac{dy/y}{dx/x}
\]</span> which represents the <strong>elasticity</strong> of <span class="math inline">\(y\)</span> with respect to <span class="math inline">\(x\)</span>: what is the percentage change in <span class="math inline">\(y\)</span> if <span class="math inline">\(x\)</span> changes by one percent?</p>
<p>Finally, if <em>only the outcome</em> is log transformed, but not the regressor, we have a <em>semi-elasticity</em> formulation. <span class="math display">\[
\log y = b_0 + b_1 x
\]</span> and the slope coefficient becomes</p>
<p><span class="math display">\[
b_1 = \frac{d\log y}{d x}
\]</span> This means a one-unit change in <span class="math inline">\(x\)</span> increases the logarithm of the outcome by <span class="math inline">\(b_1\)</span> units. For small changes in <span class="math inline">\(x\)</span>, we can just exponentiate <span class="math inline">\(b_1\)</span> to get the effect of <span class="math inline">\(x\)</span> the <em>level</em> of <span class="math inline">\(y\)</span>.</p>
<p>Going back to our example, let’s say that a workers wage depends only on his <em>experience</em>, measured in the number of years he/she worked full-time:</p>
<span class="math display" id="eq:wage-exp">\[\begin{equation}
\ln w_i = b_0 + b_1 exp_i + e_i \tag{5.3}
\end{equation}\]</span>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm_w =<span class="st"> </span><span class="kw">lm</span>(lwage <span class="op">~</span><span class="st"> </span>exp, <span class="dt">data =</span> Wages)
<span class="kw">summary</span>(lm_w)</code></pre></div>
<pre><code>#OUT&gt; 
#OUT&gt; Call:
#OUT&gt; lm(formula = lwage ~ exp, data = Wages)
#OUT&gt; 
#OUT&gt; Residuals:
#OUT&gt;      Min       1Q   Median       3Q      Max 
#OUT&gt; -2.30153 -0.29144  0.02307  0.27927  1.97171 
#OUT&gt; 
#OUT&gt; Coefficients:
#OUT&gt;              Estimate Std. Error t value Pr(&gt;|t|)    
#OUT&gt; (Intercept) 6.5014318  0.0144657  449.44   &lt;2e-16 ***
#OUT&gt; exp         0.0088101  0.0006378   13.81   &lt;2e-16 ***
#OUT&gt; ---
#OUT&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#OUT&gt; 
#OUT&gt; Residual standard error: 0.4513 on 4163 degrees of freedom
#OUT&gt; Multiple R-squared:  0.04383, Adjusted R-squared:  0.0436 
#OUT&gt; F-statistic: 190.8 on 1 and 4163 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>We see from this that an additional year of full-time work experience will increase the mean of <span class="math inline">\(\ln w\)</span> by 0.0088. Given the log transformation on wages, we can just exponentiate that to get an estimated effect on the (geometric!) mean of wages as <span class="math inline">\(\exp(\hat{b}_1) = 1.0088491\)</span>. This means that hourly wages increase by roughly <span class="math inline">\(100 * (\exp(b_1)-1) = 0.88\)</span> percent with an additional year of experience. We can verify the positive relationship in figure <a href="categorical-vars.html#fig:wage-plot">5.2</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:wage-plot"></span>
<img src="ScPoEconometrics_files/figure-html/wage-plot-1.png" alt="log wage vs experience. Red line shows the regression." width="672" />
<p class="caption">
Figure 5.2: log wage vs experience. Red line shows the regression.
</p>
</div>
<p>Now let’s investigate whether this relationship is different for men and women. We can do this by just including the <code>factor</code> variable <code>sex</code>:</p>
<span class="math display" id="eq:wage-sex">\[\begin{equation}
\ln w_i = b_0 + b_1 exp_i + b_2 sex_i + e_i \tag{5.4}
\end{equation}\]</span>
<p>In <code>R</code> we can do this easily by using the <code>update</code> function as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm_sex =<span class="st"> </span><span class="kw">update</span>(lm_w, . <span class="op">~</span><span class="st"> </span>. <span class="op">+</span><span class="st"> </span>sex)  <span class="co"># update lm_w with same LHS, same RHS, but add sex to it</span>
<span class="kw">summary</span>(lm_sex)</code></pre></div>
<pre><code>#OUT&gt; 
#OUT&gt; Call:
#OUT&gt; lm(formula = lwage ~ exp + sex, data = Wages)
#OUT&gt; 
#OUT&gt; Residuals:
#OUT&gt;      Min       1Q   Median       3Q      Max 
#OUT&gt; -1.87081 -0.26688  0.01733  0.26336  1.90325 
#OUT&gt; 
#OUT&gt; Coefficients:
#OUT&gt;              Estimate Std. Error t value Pr(&gt;|t|)    
#OUT&gt; (Intercept) 6.1257661  0.0223319  274.31   &lt;2e-16 ***
#OUT&gt; exp         0.0076134  0.0006082   12.52   &lt;2e-16 ***
#OUT&gt; sexmale     0.4501101  0.0210974   21.34   &lt;2e-16 ***
#OUT&gt; ---
#OUT&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#OUT&gt; 
#OUT&gt; Residual standard error: 0.4286 on 4162 degrees of freedom
#OUT&gt; Multiple R-squared:  0.1381,  Adjusted R-squared:  0.1377 
#OUT&gt; F-statistic: 333.4 on 2 and 4162 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>What’s going on here? Remember from above that <code>sex</code> is a <code>factor</code> with 2 levels <em>female</em> and <em>male</em>. We see in the above output that <code>R</code> included a regressor called <code>sexmale</code> <span class="math inline">\(=\mathbf{1}[sex_i==male]\)</span>. This is a combination of the variable name <code>sex</code> and the level which was included in the regression. In other words, <code>R</code> chooses a <em>reference category</em> (by default the first of all levels by order of appearance), which is excluded - here this is <code>sex==&quot;female&quot;</code>. The interpretation is that <span class="math inline">\(b_2\)</span> measures the effect of being male <em>relative</em> to being female. <code>R</code> automatically creates a dummy variable for each potential level, excluding the first category. In particular, if <code>sex</code> had a third category <code>dont want to say</code>, there would be an additional regressor called <code>sexdontwanttosay</code>.</p>
<div class="figure" style="text-align: center"><span id="fig:wage-plot2"></span>
<img src="ScPoEconometrics_files/figure-html/wage-plot2-1.png" alt="log wage vs experience with different intercepts by sex" width="672" />
<p class="caption">
Figure 5.3: log wage vs experience with different intercepts by sex
</p>
</div>
<p>Figure <a href="categorical-vars.html#fig:wage-plot2">5.3</a> illustrates this. You can see that both male and female have the same upward sloping regression line. But you can also see that there is a parallel downward shift from male to female line. The estimate of <span class="math inline">\(b_2 = 0.45\)</span> is the size of the downward shift.</p>
</div>
</div>
<div id="saturated-models-main-effects-and-interactions" class="section level2">
<h2><span class="header-section-number">5.4</span> Saturated Models: Main Effects and Interactions</h2>
<p>You can see above that we <em>restricted</em> male and female to have the same slope with repect to years of experience. This may or may not be a good assumption. Thankfully, the dummy variable regression machinery allows for a quick solution to this - so-called <em>interaction</em> effects. As already introduced in chapter <a href="multiple-reg.html#mreg-interactions">4.4</a>, interactions allow that the <em>ceteris paribus</em> effect of a certain regressor, <code>exp</code> say, depends also on the value of yet another regressor, <code>sex</code> for example. Suppose then we would like to see whether male and female not only have different intercepts, but also different slopes with respect to <code>exp</code> in figure <a href="categorical-vars.html#fig:wage-plot2">5.3</a>. Therefore we formulate this version of our model:</p>
<span class="math display" id="eq:wage-sex-inter">\[\begin{equation}
\ln w_i = b_0 + b_1 exp_i + b_2 sex_i + b_3 (sex_i \times exp_i) + e_i \tag{5.5}
\end{equation}\]</span>
<p>The inclusion of the <em>product</em> of <code>exp</code> and <code>sex</code> amounts to having different slopes for different categories in <code>sex</code>. This is easy to see if we take the partial derivative of <a href="categorical-vars.html#eq:wage-sex-inter">(5.5)</a> with respect to <code>sex</code>:</p>
<span class="math display" id="eq:wage-sex-inter-deriv">\[\begin{equation}
\frac{\partial \ln w_i}{\partial sex_i} = b_2 + b_3 exp_i \tag{5.6}
\end{equation}\]</span>
<p>Back in our <code>R</code> session, we can run the full interactions model like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm_inter =<span class="st"> </span><span class="kw">lm</span>(lwage <span class="op">~</span><span class="st"> </span>exp<span class="op">*</span>sex, <span class="dt">data =</span> Wages)
<span class="kw">summary</span>(lm_inter)</code></pre></div>
<pre><code>#OUT&gt; 
#OUT&gt; Call:
#OUT&gt; lm(formula = lwage ~ exp * sex, data = Wages)
#OUT&gt; 
#OUT&gt; Residuals:
#OUT&gt;      Min       1Q   Median       3Q      Max 
#OUT&gt; -1.82137 -0.26797  0.01781  0.26231  1.90757 
#OUT&gt; 
#OUT&gt; Coefficients:
#OUT&gt;             Estimate Std. Error t value Pr(&gt;|t|)    
#OUT&gt; (Intercept) 6.169017   0.038165 161.643  &lt; 2e-16 ***
#OUT&gt; exp         0.005071   0.001918   2.644  0.00822 ** 
#OUT&gt; sexmale     0.401116   0.040917   9.803  &lt; 2e-16 ***
#OUT&gt; exp:sexmale 0.002826   0.002022   1.397  0.16236    
#OUT&gt; ---
#OUT&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#OUT&gt; 
#OUT&gt; Residual standard error: 0.4285 on 4161 degrees of freedom
#OUT&gt; Multiple R-squared:  0.1385,  Adjusted R-squared:  0.1379 
#OUT&gt; F-statistic:   223 on 3 and 4161 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>You can see here that <code>R</code> automatically expands <code>exp*sex</code> to include both <em>main effects</em>, i.e. <code>exp</code> and <code>sex</code> as single regressors as before, and their interaction, denoted by <code>exp:sexmale</code>. It turns out that in this example, the estimate for the interaction is not statistically significant, i.e. we cannot reject the null hypothesis that <span class="math inline">\(b_3 = 0\)</span>. (If, for some reason, you wanted to include only the interaction, you could supply directly <code>formula = lwage ~ exp:sex</code> to <code>lm</code>, although this would be a rather difficult to interpret model.)</p>
<p>We call a model like <a href="categorical-vars.html#eq:wage-sex-inter">(5.5)</a> a <em>saturated model</em>, because it includes all main effects and possible interactions. What our little exercise showed us was that with the sample of data at hand, we cannot actually claim that there exists a differential slope for male and female, so the model with main effects only may be more appropriate here.</p>
<p>To finally illustrate the limits of interpretability when including interactions, suppose we run the fully saturated model for <code>sex</code>, <code>smsa</code>, <code>union</code> and <code>bluecol</code>, including all main and all interaction effects:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lm_full =<span class="st"> </span><span class="kw">lm</span>(lwage <span class="op">~</span><span class="st"> </span>sex<span class="op">*</span>smsa<span class="op">*</span>union<span class="op">*</span>bluecol,<span class="dt">data=</span>Wages)
<span class="kw">summary</span>(lm_full)</code></pre></div>
<pre><code>#OUT&gt; 
#OUT&gt; Call:
#OUT&gt; lm(formula = lwage ~ sex * smsa * union * bluecol, data = Wages)
#OUT&gt; 
#OUT&gt; Residuals:
#OUT&gt;      Min       1Q   Median       3Q      Max 
#OUT&gt; -1.95214 -0.23409 -0.01681  0.25317  1.90450 
#OUT&gt; 
#OUT&gt; Coefficients:
#OUT&gt;                                     Estimate Std. Error t value Pr(&gt;|t|)
#OUT&gt; (Intercept)                          6.12378    0.06300  97.198  &lt; 2e-16
#OUT&gt; sexmale                              0.67057    0.06577  10.195  &lt; 2e-16
#OUT&gt; smsayes                              0.33424    0.06872   4.864 1.19e-06
#OUT&gt; unionyes                             0.84284    0.16866   4.997 6.06e-07
#OUT&gt; bluecolyes                          -0.34016    0.08423  -4.039 5.47e-05
#OUT&gt; sexmale:smsayes                     -0.15917    0.07226  -2.203 0.027670
#OUT&gt; sexmale:unionyes                    -0.92893    0.17816  -5.214 1.94e-07
#OUT&gt; smsayes:unionyes                    -0.83927    0.17979  -4.668 3.14e-06
#OUT&gt; sexmale:bluecolyes                  -0.15046    0.08820  -1.706 0.088100
#OUT&gt; smsayes:bluecolyes                  -0.12471    0.09727  -1.282 0.199882
#OUT&gt; unionyes:bluecolyes                 -0.31819    0.22924  -1.388 0.165208
#OUT&gt; sexmale:smsayes:unionyes             0.72672    0.19060   3.813 0.000139
#OUT&gt; sexmale:smsayes:bluecolyes           0.25860    0.10327   2.504 0.012318
#OUT&gt; sexmale:unionyes:bluecolyes          0.71906    0.23772   3.025 0.002503
#OUT&gt; smsayes:unionyes:bluecolyes          0.50057    0.24862   2.013 0.044137
#OUT&gt; sexmale:smsayes:unionyes:bluecolyes -0.58330    0.25899  -2.252 0.024361
#OUT&gt;                                        
#OUT&gt; (Intercept)                         ***
#OUT&gt; sexmale                             ***
#OUT&gt; smsayes                             ***
#OUT&gt; unionyes                            ***
#OUT&gt; bluecolyes                          ***
#OUT&gt; sexmale:smsayes                     *  
#OUT&gt; sexmale:unionyes                    ***
#OUT&gt; smsayes:unionyes                    ***
#OUT&gt; sexmale:bluecolyes                  .  
#OUT&gt; smsayes:bluecolyes                     
#OUT&gt; unionyes:bluecolyes                    
#OUT&gt; sexmale:smsayes:unionyes            ***
#OUT&gt; sexmale:smsayes:bluecolyes          *  
#OUT&gt; sexmale:unionyes:bluecolyes         ** 
#OUT&gt; smsayes:unionyes:bluecolyes         *  
#OUT&gt; sexmale:smsayes:unionyes:bluecolyes *  
#OUT&gt; ---
#OUT&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
#OUT&gt; 
#OUT&gt; Residual standard error: 0.3832 on 4149 degrees of freedom
#OUT&gt; Multiple R-squared:  0.3129,  Adjusted R-squared:  0.3105 
#OUT&gt; F-statistic:   126 on 15 and 4149 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>The main effects remain clear to interpret: being a blue collar worker, for example, reduces average wages by 34% relative to white collar workers. One-way interactions are still ok to interpret as well: <code>sexmale:bluecolyes</code> indicates in addition to a wage premium over females of 0.67, and a penalty of being blue collar of -0.34, <strong>male</strong> blue collar workers suffer an additional wage loss of -0.15. All of this is relative to the base category, which are female white collar workers who don’t live in an smsa and are not union members. If we now add a third or even a fourth interaction, this becomes much harder to interpret, and in fact we rarely see such interactions in applied work.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>There are <a href="https://en.wikipedia.org/wiki/Transgender">transgender</a> individuals where this example will not apply.<a href="categorical-vars.html#fnref4">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="multiple-reg.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="std-errors.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ScPoEcon/ScPoEconometrics/edit/master/05-Categorial-Vars.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["ScPoEconometrics.pdf", "ScPoEconometrics.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
